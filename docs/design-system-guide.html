<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Exporter - Design System Guide</title>
    
    <!-- Lucide Icons Script -->
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- === YOUR CENTRAL DESIGN SYSTEM STYLESHEET === -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/n8mills-UI/token-exporter-ds@main/design-system.css">
    
    <style>
        /* ==========================================================================
           GUIDE-SPECIFIC STYLES
           ========================================================================== */
        
    /* --- START: New Mobile Header & Menu Styles --- */
.mobile-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--size-10);
    background: var(--color-background-secondary);
    backdrop-filter: var(--blur-md);
    -webkit-backdrop-filter: var(--blur-md);
    border-bottom: var(--border-size-1) solid var(--color-border-default);
    z-index: 100;
    display: none; /* Hidden by default, shown on mobile via media query */
    align-items: center;
    justify-content: space-between;
    padding: 0 var(--size-3);
    transform: translateY(0);
    transition: transform var(--transition-medium);
    box-sizing: border-box;
}

.mobile-header.hidden {
    transform: translateY(-100%);
}

.header-brand {
    display: flex;
    align-items: center;
    gap: var(--size-3);
}

.mobile-header-logo {
    height: var(--size-7);
    width: var(--size-7);
    flex-shrink: 0;
}

.header-title {
    font-size: var(--font-size-4);
    font-weight: var(--font-weight-6);
    color: var(--color-text-default);
    line-height: 1.2;
}

.mobile-menu-toggle-right {
    background: transparent;
    border: none;
    color: var(--color-text-default);
    cursor: pointer;
    padding: var(--size-2);
    display: flex;
    align-items: center;
    justify-content: center;
   
}

.mobile-menu {
    position: fixed;
    top: 0;
    right: 0;
    width: 280px;
    height: 100%;
    background: var(--color-backdrop);
    backdrop-filter: var(--blur-md);
    -webkit-backdrop-filter: var(--blur-md);
    border-left: var(--border-size-1) solid var(--color-border-default);
    z-index: 101;
    transform: translateX(100%);
    transition: transform var(--transition-medium);
    overflow-y: auto;
    box-sizing: border-box;
}

.mobile-menu.open {
    transform: translateX(0);
}

.menu-header {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    height: var(--size-12);
    padding: 0 var(--size-6);
    border-bottom: var(--border-size-1) solid var(--color-border-default);
    flex-shrink: 0;
}

.menu-close-btn {
    background: transparent;
    border: none;
    color: var(--color-text-default);
    cursor: pointer;
    padding: var(--size-2);
    display: flex;
}

.menu-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    z-index: 99;
    opacity: 0;
    transition: opacity var(--transition-medium);
    pointer-events: none;
}

.menu-overlay.open {
    opacity: 1;
    pointer-events: auto;
}

.mobile-nav-links {
    list-style: none;
    padding: var(--size-4);
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--size-2);
}

.mobile-nav-links a {
    display: flex;
    align-items: center;
    gap: var(--size-3);
    padding: var(--size-3);
    color: var(--color-text-secondary);
    text-decoration: none;
    border-radius: var(--radius-2);
    font-size: var(--font-size-1);
    transition: all 0.2s ease;
}

.mobile-nav-links a:hover,
.mobile-nav-links a.active {
    background: var(--color-background-secondary);
    color: var(--brand-primary-lime);
}

/* Show the new header on mobile and adjust main content padding */
@media (max-width: 768px) {
    .mobile-header {
        display: flex;
    }
    .guide-content {
        /* This correctly applies padding ONLY to the top, allowing the hero to be full-bleed */
        padding-top: var(--size-12);
    }
}
/* --- END: New Mobile Header & Menu Styles --- */


        /* Prevent layout shift when scrollbar appears */
        html {
            scroll-behavior: smooth;
            overflow-y: scroll; 
        }

        body {
            background: var(--color-background-primary);
        }

        /* Guide Layout */
        .guide-container {
            display: flex;
            min-height: 100vh;
        }
        
        .guide-sidebar {
            width: 280px;
            background: var(--color-background-secondary);
            border-right: var(--border-size-1) solid var(--color-border-default);
            position: fixed;
            height: 100vh;
            z-index: var(--layer-dropdown);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            transition: transform 0.3s var(--ease-3);
        }
        
        .guide-content {
            margin-left: 280px;
            flex: 1;
            max-width: calc(100vw - 280px);
            width: 100%;
            box-sizing: border-box;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }
        
        /* Sidebar Header */
        .guide-header {
            padding: var(--size-5);
            border-bottom: var(--border-size-1) solid var(--color-border-default);
            display: flex;
            align-items: center;
            gap: var(--size-3);
            flex-shrink: 0;
        }

        .guide-logo {
            width: 48px;
            height: 48px;
            flex-shrink: 0;
        }
        
        .guide-title {
            color: var(--color-text-default);
            margin: 0;
            font-weight: var(--font-weight-6);
        }
        
        /* Sidebar Navigation */
        .nav-wrapper {
            flex-grow: 1;
            overflow-y: auto;
            padding: var(--size-2) 0;
        }

        .nav-section {
            padding: var(--size-2) var(--size-4);
        }
        
        .nav-section-title {
            color: var(--color-text-default);
            font-size: var(--font-size-1);
            font-weight: var(--font-weight-6);
            margin-bottom: var(--size-3);
            text-transform: uppercase;
            letter-spacing: var(--font-letterspacing-2);
        }
        
        .nav-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .nav-links li {
            margin-bottom: var(--size-1);
        }
        
        .nav-links a {
            display: flex;
            align-items: center;
            gap: var(--size-2);
            padding: var(--size-2) var(--size-3);
            color: var(--color-text-secondary);
            text-decoration: none;
            border-radius: var(--radius-2);
            transition: all var(--animation-duration-2) var(--ease-3);
            font-size: var(--font-size-1);
            position: relative;
        }
        
        .nav-links a:hover {
            background: var(--color-background-tertiary);
            color: var(--brand-primary-lime);
        }

        .nav-links a.active {
            color: var(--brand-primary-lime);
            font-weight: var(--font-weight-6);
        }

        .nav-links a.active::before {
            content: '';
            position: absolute;
            left: -16px;
            top: 50%;
            transform: translateY(-50%);
            height: 60%;
            width: 3px;
            background: var(--brand-primary-lime);
            border-radius: 0 var(--radius-1) var(--radius-1) 0;
        }
        
        .nav-links .lucide {
            width: 16px;
            height: 16px;
            stroke-width: var(--stroke-regular);
        }

        /* Sidebar Footer */
        .sidebar-footer {
            padding: var(--size-2) var(--size-4);
            border-top: var(--border-size-1) solid var(--color-border-default);
            flex-shrink: 0;
        }
        
        /* Mobile menu button */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: var(--size-4);
            left: var(--size-4);
            z-index: var(--layer-dropdown);
            background: var(--color-background-secondary);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-2);
            padding: var(--size-3);
            color: var(--color-text-default);
            font-size: var(--font-size-3);
            cursor: pointer;
            transition: all var(--animation-duration-2) var(--ease-3);
        }

        .mobile-menu-toggle:hover {
            background: var(--color-background-tertiary);
            color: var(--brand-primary-lime);
        }

        /* Content Sections */
        .content-section {
            margin-bottom: var(--size-10);
            scroll-margin-top: var(--size-6);
            padding: 0 var(--size-6);

        }
        #overview {
            padding: 0; /* Ensures hero has no padding */
        }
        .section-header {
            margin-bottom: var(--size-6);
            padding-bottom: var(--size-4);
            border-bottom: var(--border-size-2) solid var(--color-border-default);
        }
        
        .guide-main-title {
            font-size: calc(var(--font-size-8) * 1.2);
            font-weight: var(--font-weight-7);
            line-height: var(--font-lineheight-1);
            letter-spacing: -0.02em;
            color: var(--brand-primary-lime);
            margin-bottom: 0;
        }

        .guide-subtitle {
            color: var(--color-text-default);
            text-transform: uppercase;
            font-weight: var(--font-weight-6);
            margin-top: var(--size-2);
            margin-bottom: var(--size-4);
        }
        
        .main-section-title {
            color: var(--color-text-default);
            margin-bottom: var(--size-3);
            display: flex;
            align-items: center;
            gap: var(--size-3);
        }
        
        .main-section-title .lucide {
            color: var(--brand-primary-lime);
            width: 1em;
            height: 1em;
            stroke-width: var(--stroke-regular);
        }
        
        .section-description {
            color: var(--color-text-secondary);
            max-width: 80ch;
            margin: 0;
            line-height: var(--font-lineheight-4);
        }
        
        /* Foundation Token & Component Styles */
        .token-category, .component-section {
            margin-bottom: var(--size-8);
            background: var(--color-background-secondary);
            border-radius: var(--radius-3);
            border: var(--border-size-1) solid var(--color-border-default);
            overflow: hidden;
        }
        
        .category-header, .component-header {
            padding: var(--size-6);
            background: var(--color-background-tertiary);
            border-bottom: var(--border-size-1) solid var(--color-border-default);
        }
        
        .category-title, .component-title {
            color: var(--color-text-default);
            margin-bottom: var(--size-2);
            display: flex;
            align-items: center;
            gap: var(--size-3);
        }

        .category-title .lucide, .component-title .lucide {
            color: var(--brand-primary-lime);
            width: 1em;
            height: 1em;
            stroke-width: var(--stroke-regular);
            margin-right: var(--size-1);
        }
        
        .category-description, .component-description {
            color: var(--color-text-secondary);
            margin: 0;
        }
        
        .tokens-grid {
            padding: var(--size-6);
            display: grid;
            gap: var(--size-4);
        }
        
        .color-grid, .shadow-grid, .radius-grid {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }

        .gray-scale-grid {
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        }
        
        .text-grid, .animation-grid {
            grid-template-columns: 1fr;
        }
        
        .spacing-grid {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
        
        .font-grid {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
        
        .token-item {
            background: var(--color-background-primary);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-2);
            padding: var(--size-4);
            transition: all var(--animation-duration-2) var(--ease-3);
            display: flex;
            flex-direction: column;
        }
        
        .token-item:hover {
            border-color: var(--brand-primary-lime);
            box-shadow: var(--shadow-3);
        }

        .token-info {
            flex-grow: 1;
        }
        
        .token-name {
            font-family: var(--font-mono);
            color: var(--brand-primary-lime);
            margin-bottom: var(--size-2);
            font-size: var(--font-size-1);
            font-weight: var(--font-weight-6);
        }
        
        .token-value {
            font-family: var(--font-mono);
            color: var(--color-text-muted);
            margin-bottom: var(--size-3);
            font-size: var(--font-size-0);
            word-break: break-all;
        }
        
        .token-preview {
            margin-bottom: var(--size-3);
            min-height: 60px;
        }
        
        .color-preview {
            width: 100%;
            height: 60px;
            border-radius: var(--radius-2);
            border: var(--border-size-1) solid var(--color-border-default);
            position: relative;
            overflow: hidden;
        }
        
        .color-preview::after {
            content: attr(data-hex);
            position: absolute;
            bottom: var(--size-1);
            right: var(--size-1);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: var(--size-1) var(--size-2);
            border-radius: var(--radius-1);
            font-size: var(--font-size-00);
            font-family: var(--font-mono);
        }
        
        .text-preview {
            padding: var(--size-3);
            background: var(--color-background-tertiary);
            border-radius: var(--radius-2);
            border: var(--border-size-1) solid var(--color-border-default);
            color: var(--color-text-default);
        }
        
        .spacing-preview {
            background: var(--color-background-tertiary);
            border-radius: var(--radius-2);
            padding: var(--size-2);
            border: var(--border-size-1) solid var(--color-border-default);
            position: relative;
        }
        
        .spacing-bar {
            background: var(--brand-primary-lime);
            border-radius: var(--radius-1);
            opacity: 0.7;
        }
        
        .gradient-preview {
            width: 100%;
            height: 60px;
            border-radius: var(--radius-2);
            border: var(--border-size-1) solid var(--color-border-default);
        }

        .shadow-preview, .radius-preview {
            width: 100%;
            height: 80px;
            background: var(--color-background-tertiary);
            border: var(--border-size-1) solid var(--color-border-default);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .token-copy {
            background: var(--color-background-secondary);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-1);
            padding: var(--size-1) var(--size-2);
            font-size: var(--font-size-00);
            color: var(--color-text-muted);
            cursor: pointer;
            transition: all var(--animation-duration-2) var(--ease-3);
            align-self: flex-end;
        }
        
        .token-copy:hover {
            color: var(--brand-primary-lime);
            border-color: var(--brand-primary-lime);
        }
        
        /* Component Library Styles */
        .component-body {
            padding: var(--size-6);
        }

        /* Progress overlay styles for guide examples */
        .progress-overlay {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
        }

        .progress-container {
            background: var(--color-background-secondary);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-3);
            padding: var(--size-6);
            text-align: center;
            max-width: 320px;
            width: 90%;
        }

        .success-icon {
            color: var(--brand-primary-lime);
            margin-bottom: var(--size-4);
            display: block;
            animation: checkmarkAnimation 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        
        @keyframes checkmarkAnimation {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            70% { transform: scale(1.1) rotate(10deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .action-buttons {
            display: flex;
            gap: var(--size-3);
            flex-direction: column;
        }

        /* Advanced toggle styles */
        .advanced-toggle {
            text-align: center;
            padding: var(--size-3);
        }

        .advanced-link {
            color: var(--color-text-muted);
            text-decoration: none;
            transition: all var(--animation-duration-2) var(--ease-3);
        }

        .advanced-link:hover {
            color: var(--brand-primary-lime);
        }

        .advanced-link .lucide {
            transition: transform var(--animation-duration-2) var(--ease-3);
        }

        .advanced-link:hover .lucide {
            transform: translateX(2px);
        }
        
        .example-container {
            background: var(--color-background-primary);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-2);
            padding: var(--size-4);
            margin-bottom: var(--size-4);
            position: relative;
        }
        
      
        
        .code-block {
            background: var(--gray-9);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-2);
            padding: var(--size-4);
            margin-bottom: var(--size-4);
            overflow-x: auto;
            position: relative;
        }
        
        .code-block code {
            font-family: var(--font-mono);
            font-size: var(--font-size-0);
            color: var(--color-text-default);
            line-height: var(--font-lineheight-2);
            white-space: pre;
        }
        
        .code-copy-btn {
            position: absolute;
            top: var(--size-2);
            right: var(--size-2);
            background: var(--color-background-secondary);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-1);
            padding: var(--size-1) var(--size-2);
            font-size: var(--font-size-00);
            color: var(--color-text-muted);
            cursor: pointer;
            transition: all var(--animation-duration-2) var(--ease-3);
        }
        
        .code-copy-btn:hover {
            color: var(--brand-primary-lime);
            border-color: var(--brand-primary-lime);
        }

        /* Token usage display */
        .token-usage {
            background: var(--color-background-primary);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-2);
            padding: var(--size-3);
            margin-top: var(--size-3);
        }

        .token-usage-title {
            color: var(--brand-primary-lime);
            font-size: var(--font-size-1);
            font-weight: var(--font-weight-6);
            margin-bottom: var(--size-2);
        }

        .token-list {
            display: flex;
            flex-wrap: wrap;
            gap: var(--size-2);
        }

        .token-badge {
            background: var(--color-background-tertiary);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-1);
            padding: var(--size-1) var(--size-2);
            font-family: var(--font-mono);
            font-size: var(--font-size-00);
            color: var(--color-text-secondary);
        }
        
        .variants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--size-4);
            margin-bottom: var(--size-4);
        }
        
        /* Pattern Section Styles */
        .pattern-section {
            background: var(--color-background-secondary);
            border-radius: var(--radius-3);
            border: var(--border-size-1) solid var(--color-border-default);
            padding: var(--size-6);
            margin-bottom: var(--size-6);
        }
        
        .pattern-title {
            color: var(--brand-primary-lime);
            margin-bottom: var(--size-3);
            display: flex;
            align-items: center;
            gap: var(--size-2);
        }
        
        .pattern-content {
            color: var(--color-text-secondary);
            line-height: var(--font-lineheight-3);
        }
        
        .pattern-content h4 {
            color: var(--color-text-default);
            margin-top: var(--size-4);
            margin-bottom: var(--size-2);
        }
        
        .pattern-content pre {
            background: var(--gray-9);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-2);
            padding: var(--size-3);
            overflow-x: auto;
            font-family: var(--font-mono);
            font-size: var(--font-size-0);
            color: var(--color-text-default);
        }
        
        .pattern-content code {
            background: var(--color-background-tertiary);
            padding: var(--size-1);
            border-radius: var(--radius-1);
            font-family: var(--font-mono);
            font-size: var(--font-size-0);
        }
        
        .about-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .about-content-grid {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: var(--size-8);
            align-items: center;
        }

        .about-avatar {
            width: calc(var(--size-16) * 1.5);
            height: calc(var(--size-16) * 1.5);
            border-radius: var(--radius-round);
            background-size: cover;
            background-position: center;
            border: var(--border-size-3) solid var(--brand-primary-lime);
            background-color: var(--gray-7);
        }

        .about-info-column h3 {
            margin-bottom: var(--size-2);
        }

        .about-title {
            color: var(--color-text-secondary);
            margin-bottom: var(--size-3);
        }

        .about-description {
            color: var(--color-text-secondary);
            max-width: 60ch;
            line-height: var(--font-lineheight-3);
            margin-bottom: var(--size-4);
        }

        .about-links {
            display: flex;
            gap: var(--size-4);
        }

        .about-link {
            color: var(--color-text-secondary);
            transition: all var(--animation-duration-2) var(--ease-3);
        }
        
        .about-link .lucide {
            width: 24px;
            height: 24px;
        }

        .about-link:hover {
            color: var(--brand-primary-lime);
            transform: translateY(-2px);
        }

        .heart {
            color: var(--category-color-pink);
            display: inline-block;
            transition: transform var(--animation-duration-3) var(--ease-spring-4);
        }

        .about-description:hover .heart {
            transform: scale(1.2);
        }
        
        /* State groups with better hierarchy */
        .state-group {
            margin-bottom: var(--size-8); /* Large gap between groups */
        }
        
        .state-group-header {
            background: rgba(210, 255, 55, 0.03);
            border: var(--border-size-1) solid rgba(210, 255, 55, 0.1);
            border-radius: var(--radius-3);
            padding: var(--size-4);
            margin-bottom: var(--size-4);
        }
        
        .state-group-title {
            color: var(--brand-primary-lime);
            margin-bottom: var(--size-2);
        }
        
        .state-documentation {
            margin-top: var(--size-1); /* Small gap - attached to parent */
            background: var(--gray-8);
            border: var(--border-size-1) solid var(--color-border-default);
            border-radius: var(--radius-2);
            padding: var(--size-3);
        }
        
        .state-documentation-title {
            color: var(--brand-primary-lime);
            font-size: var(--font-size-1);
            font-weight: var(--font-weight-6);
            margin-bottom: var(--size-2);
        }
        
        /* Responsive styles */
        @media (max-width: 768px) {
            .mobile-menu-toggle { display: block; }
            .guide-sidebar { transform: translateX(-100%); }
            .guide-sidebar.open { transform: translateX(0); box-shadow: var(--shadow-5); }
            .guide-content { margin-left: 0; max-width: 100vw; width: 100%; padding: 0; padding-top: var(--size-10); box-sizing: border-box; }
            .about-section { margin-left: calc(-1 * var(--size-4)); margin-right: calc(-1 * var(--size-4)); padding: var(--size-6) var(--size-4); }
            .about-content-grid { grid-template-columns: 1fr; text-align: center; }
            .about-links { justify-content: center; }
            .color-grid, .shadow-grid, .radius-grid, .tokens-grid, .variants-grid { grid-template-columns: 1fr; }
            .gray-scale-grid { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); }
            .spacing-grid { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
            .token-breakdown { grid-template-columns: repeat(2, 1fr) !important; gap: var(--size-3) !important; }
        }
        
        @media (max-width: 400px) {
            .token-breakdown { grid-template-columns: 1fr !important; gap: var(--size-2) !important; }
        }
    </style>
</head>
<body>
    <!-- Mobile menu toggle -->
  <!-- START: New Mobile Header -->
<header class="mobile-header" id="mobile-header">
    <div class="header-brand">
        <div class="mobile-header-logo">
            <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_mobile_logo)"><path d="M0 0H355V355H0V0Z" fill="url(#paint0_linear_mobile_logo)"/><circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/><path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/><circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/></g>
                <defs><linearGradient id="paint0_linear_mobile_logo" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse"><stop stop-color="#D2FF37"/><stop offset="1" stop-color="#EEFF00"/></linearGradient><clipPath id="clip0_mobile_logo"><rect width="355" height="355" rx="58" fill="white"/></clipPath></defs>
            </svg>
        </div>
        <span class="header-title">Token Exporter</span>
    </div>
    <button class="mobile-menu-toggle-right" id="mobile-menu-toggle-right" aria-label="Toggle navigation">
        <i data-lucide="menu"></i>
    </button>
</header>
<!-- END: New Mobile Header -->

<!-- START: New Mobile Menu Panel -->
<div class="menu-overlay" id="menu-overlay"></div>
<nav class="mobile-menu" id="mobile-menu">
    <div class="menu-header">
         <button class="menu-close-btn" id="menu-close-btn" aria-label="Close navigation">
            <i data-lucide="x"></i>
        </button>
    </div>
    <!-- The navigation links will be dynamically populated by the existing sidebar script -->
    <ul class="mobile-nav-links" id="mobile-nav-links">
        <!-- Links will be inserted here by JavaScript -->
    </ul>
</nav>
<!-- END: New Mobile Menu Panel -->


    <div class="guide-container">
        <!-- Sidebar Navigation -->
        <nav class="guide-sidebar" id="sidebar">
            <div class="guide-header">
                <div class="guide-logo">
                    <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_9098_160422_guide)">
                        <path d="M0 0H355V355H0V0Z" fill="url(#paint0_linear_9098_160422_guide)"/>
                        <circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                        <path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/>
                        <circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                        </g>
                        <defs>
                        <linearGradient id="paint0_linear_9098_160422_guide" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#D2FF37"/>
                        <stop offset="1" stop-color="#EEFF00"/>
                        </linearGradient>
                        <clipPath id="clip0_9098_160422_guide">
                        <rect width="355" height="355" rx="58" fill="white"/>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                <h1 class="text-heading-md guide-title">Token Exporter</h1>
            </div>
            <div class="nav-wrapper">
    <div class="nav-section">
        <h3 class="nav-section-title">Foundation</h3>
        <ul class="nav-links">
            <li><a href="#overview" class="nav-link"><i data-lucide="layout-dashboard"></i> Overview</a></li>
            <li><a href="#colors" class="nav-link"><i data-lucide="palette"></i> Colors</a></li>
            <li><a href="#typography" class="nav-link"><i data-lucide="type"></i> Typography</a></li>
            <li><a href="#spacing" class="nav-link"><i data-lucide="move-horizontal"></i> Spacing</a></li>
            <li><a href="#shadows" class="nav-link"><i data-lucide="layers"></i> Shadows</a></li>
            <li><a href="#border-radius" class="nav-link"><i data-lucide="square"></i> Border Radius</a></li>
            <li><a href="#animations" class="nav-link"><i data-lucide="play-circle"></i> Animations</a></li>
        </ul>
    </div>
    
    <div class="nav-section">
        <h3 class="nav-section-title">Core Components</h3>
        <ul class="nav-links">
            <li><a href="#token-summary" class="nav-link"><i data-lucide="pie-chart"></i> Token Summary</a></li>
            <li><a href="#buttons" class="nav-link"><i data-lucide="mouse-pointer-2"></i> Buttons</a></li>
            <li><a href="#forms" class="nav-link"><i data-lucide="file-text"></i> Forms</a></li>
            <li><a href="#collection-items" class="nav-link"><i data-lucide="list"></i> Collections</a></li>
            <li><a href="#modals" class="nav-link"><i data-lucide="app-window"></i> Modals</a></li>
            <li><a href="#modular-cards" class="nav-link"><i data-lucide="layout-grid"></i> Modular Card States</a></li>
            <li><a href="#advanced-toggle" class="nav-link"><i data-lucide="sliders-horizontal"></i> Mode Toggle</a></li>
        </ul>
    </div>
    
    <div class="nav-section">
        <h3 class="nav-section-title">Advanced Components</h3>
        <ul class="nav-links">
            <li><a href="#filter-system" class="nav-link"><i data-lucide="filter"></i> Filters</a></li>
            <li><a href="#collection-search" class="nav-link"><i data-lucide="search"></i> Search</a></li>
            <li><a href="#recent-collections" class="nav-link"><i data-lucide="clock"></i> Recent</a></li>
            <li><a href="#bulk-actions" class="nav-link"><i data-lucide="check-square"></i> Bulk Actions</a></li>
            <li><a href="#export-preview" class="nav-link"><i data-lucide="code-2"></i> Export Preview</a></li>
            <li><a href="#performance-utilities" class="nav-link"><i data-lucide="zap"></i> Performance</a></li>
            <li><a href="#skeletons" class="nav-link"><i data-lucide="loader"></i> Skeletons</a></li>
        </ul>
    </div>
    
    <div class="nav-section">
        <h3 class="nav-section-title">External Libraries</h3>
        <ul class="nav-links">
            <li><a href="#shoelace-integration" class="nav-link"><i data-lucide="package-2"></i> Shoelace</a></li>
        </ul>
    </div>
    
    <div class="nav-section">
        <h3 class="nav-section-title">Patterns</h3>
        <ul class="nav-links">
            <li><a href="#user-flows" class="nav-link"><i data-lucide="git-branch"></i> User Flows</a></li>
            <li><a href="#state-management" class="nav-link"><i data-lucide="cpu"></i> State Management</a></li>
            <li><a href="#performance" class="nav-link"><i data-lucide="zap"></i> Performance</a></li>
            <li><a href="#error-handling" class="nav-link"><i data-lucide="alert-triangle"></i> Error Handling</a></li>
        </ul>
    </div>
</div>
            <div class="sidebar-footer">
                 <ul class="nav-links">
                    <li><a href="#about" class="nav-link"><i data-lucide="circle-user-round"></i> About & Links</a></li>
                </ul>
            </div>
        </nav>
        
        <!-- Main Content -->
        <main class="guide-content">
<section id="overview" class="content-section" style="padding: 0;">
    <!-- HERO SECTION -->
    <div class="portfolio-hero">
        <div class="hero-content-wrapper">
            <div class="m-0 z-1 relative">
                <!-- Logo component -->
                <div class="hero-logo">
                    <div class="token-exporter-logo xl">
                        <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_hero_logo)">
                                <path d="M0 0H355V355H0V0Z" fill="url(#paint0_linear_hero_logo)"/>
                                <circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                                <path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/>
                                <circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                            </g>
                            <defs>
                                <linearGradient id="paint0_linear_hero_logo" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#D2FF37"/>
                                    <stop offset="1" stop-color="#EEFF00"/>
                                </linearGradient>
                                <clipPath id="clip0_hero_logo">
                                    <rect width="355" height="355" rx="58" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                </div>

                <h1 class="guide-main-title text-size-8 mb-3">
                    Token Exporter
                </h1>

                <p class="hero-tagline">
                    Transform Figma variables into production-ready code with one click.
                </p>
                <p class="hero-description">
                    Built on Open Props foundation with 435+ tokens. Powered by AI-assisted development.
                </p>

                <div class="hero-footer">
                    <div class="social-links">
                        <a href="https://github.com/n8mills-UI" class="social-link" title="GitHub" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="github"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/millsdesign/" class="social-link" title="LinkedIn" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="linkedin"></i>
                        </a>
                        <a href="https://natemills.me" class="social-link" title="Portfolio" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="briefcase"></i>
                        </a>
                        <a href="https://www.figma.com/@mills" class="social-link" title="Figma" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="figma"></i>
                        </a>
                        <a href="mailto:nate@natemills.me" class="social-link" title="Email">
                            <i data-lucide="mail"></i>
                        </a>
                    </div>

                    <div class="figma-cta mb-4">
                        <a href="https://www.figma.com/community/plugin/1521741753717588633" class="btn primary btn-content-width py-2 px-4" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="figma"></i>
                            Get the Plugin
                        </a>
                    </div>

                    <p>
                        Created with <span class="heart">❤️</span> by Nate Mills
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>



          <!-- Color System Section -->
            <section id="colors" class="content-section">
                <div class="section-header">
                    <h2 class="text-heading-xl main-section-title">
                        <i data-lucide="palette"></i>
                        Color System
                    </h2>
                    <p class="section-description">
                        The complete color palette, organized by role from primitives to semantic tokens.
                    </p>
                </div>

                <div id="brand-colors" class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="star"></i> Brand Colors</h2><p class="category-description">Core brand identity colors that define the visual personality of the Token Exporter plugin.</p></div>
                    <div class="tokens-grid color-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--brand-primary-lime</div><div class="token-value">#D2FF37</div><div class="token-preview"><div class="color-preview bg-brand-primary-lime" data-hex="#D2FF37"></div></div></div><button class="token-copy" onclick="copyToken('--brand-primary-lime')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--brand-secondary-yellow</div><div class="token-value">#EEFF00</div><div class="token-preview"><div class="color-preview bg-brand-secondary-yellow" data-hex="#EEFF00"></div></div></div><button class="token-copy" onclick="copyToken('--brand-secondary-yellow')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--brand-text-dark</div><div class="token-value">#1E1E1E</div><div class="token-preview"><div class="color-preview bg-brand-text-dark" data-hex="#1E1E1E"></div></div></div><button class="token-copy" onclick="copyToken('--brand-text-dark')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--brand-gradient-lime</div><div class="token-value">linear-gradient(180deg, #D2FF37 0%, #EEFF00 100%)</div><div class="token-preview"><div class="gradient-preview bg-brand-gradient-lime"></div></div></div><button class="token-copy" onclick="copyToken('--brand-gradient-lime')">Copy</button></div>
                    </div>
                </div>

                <div id="gray-scale" class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="bar-chart-2"></i> Gray Scale (Primitives)</h2><p class="category-description">The full grayscale palette that underpins the UI's surfaces and text colors.</p></div>
                    <div class="tokens-grid gray-scale-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-0</div><div class="token-value">#ffffff</div><div class="token-preview"><div class="color-preview bg-gray-0" data-hex="#ffffff"></div></div></div><button class="token-copy" onclick="copyToken('--gray-0')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-1</div><div class="token-value">#f0f0f0</div><div class="token-preview"><div class="color-preview bg-gray-1" data-hex="#f0f0f0"></div></div></div><button class="token-copy" onclick="copyToken('--gray-1')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-2</div><div class="token-value">#cccccc</div><div class="token-preview"><div class="color-preview bg-gray-2" data-hex="#cccccc"></div></div></div><button class="token-copy" onclick="copyToken('--gray-2')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-3</div><div class="token-value">#a0a0a0</div><div class="token-preview"><div class="color-preview bg-gray-3" data-hex="#a0a0a0"></div></div></div><button class="token-copy" onclick="copyToken('--gray-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-4</div><div class="token-value">#999999</div><div class="token-preview"><div class="color-preview bg-gray-4" data-hex="#999999"></div></div></div><button class="token-copy" onclick="copyToken('--gray-4')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-5</div><div class="token-value">#666666</div><div class="token-preview"><div class="color-preview bg-gray-5" data-hex="#666666"></div></div></div><button class="token-copy" onclick="copyToken('--gray-5')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-6</div><div class="token-value">#444444</div><div class="token-preview"><div class="color-preview bg-gray-6" data-hex="#444444"></div></div></div><button class="token-copy" onclick="copyToken('--gray-6')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-7</div><div class="token-value">#3a3a3a</div><div class="token-preview"><div class="color-preview bg-gray-7" data-hex="#3a3a3a"></div></div></div><button class="token-copy" onclick="copyToken('--gray-7')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-8</div><div class="token-value">#2a2a2a</div><div class="token-preview"><div class="color-preview bg-gray-8" data-hex="#2a2a2a"></div></div></div><button class="token-copy" onclick="copyToken('--gray-8')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-9</div><div class="token-value">#1e1e1e</div><div class="token-preview"><div class="color-preview bg-gray-9" data-hex="#1e1e1e"></div></div></div><button class="token-copy" onclick="copyToken('--gray-9')">Copy</button></div>
                    </div>
                </div>

                <div id="semantic-colors" class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="pen-tool"></i> Semantic Colors</h2><p class="category-description">Purpose-driven color tokens that map to specific UI contexts for consistency across components.</p></div>
                    <div class="tokens-grid color-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-default</div><div class="token-value">var(--gray-0)</div><div class="token-preview"><div class="text-preview"><div class="text-color-default">Default text color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-default')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-secondary</div><div class="token-value">var(--gray-2)</div><div class="token-preview"><div class="text-preview"><div class="text-color-secondary">Secondary text color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-secondary')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-muted</div><div class="token-value">var(--gray-3)</div><div class="token-preview"><div class="text-preview"><div class="text-color-muted">Muted text color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-muted')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-on-brand</div><div class="token-value">var(--brand-text-dark)</div><div class="token-preview"><div class="text-preview bg-brand-primary-lime"><div class="text-color-on-brand">Text on brand color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-on-brand')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-error</div><div class="token-value">var(--red-6)</div><div class="token-preview"><div class="text-preview"><div class="text-color-error">Error text color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-error')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-background-primary</div><div class="token-value">var(--gray-9)</div><div class="token-preview"><div class="color-preview bg-color-background-primary" data-hex="#1e1e1e"></div></div></div><button class="token-copy" onclick="copyToken('--color-background-primary')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-background-secondary</div><div class="token-value">var(--gray-8)</div><div class="token-preview"><div class="color-preview bg-color-background-secondary" data-hex="#2a2a2a"></div></div></div><button class="token-copy" onclick="copyToken('--color-background-secondary')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-background-tertiary</div><div class="token-value">var(--gray-7)</div><div class="token-preview"><div class="color-preview bg-color-background-tertiary" data-hex="#3a3a3a"></div></div></div><button class="token-copy" onclick="copyToken('--color-background-tertiary')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-background-disabled</div><div class="token-value">#333333</div><div class="token-preview"><div class="color-preview bg-color-background-disabled" data-hex="#333333"></div></div></div><button class="token-copy" onclick="copyToken('--color-background-disabled')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-border-default</div><div class="token-value">var(--gray-6)</div><div class="token-preview"><div class="color-preview bg-color-border-default" data-hex="#444444"></div></div></div><button class="token-copy" onclick="copyToken('--color-border-default')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-border-interactive-focus</div><div class="token-value">var(--brand-primary-lime)</div><div class="token-preview"><div class="color-preview bg-color-border-interactive-focus" data-hex="#D2FF37"></div></div></div><button class="token-copy" onclick="copyToken('--color-border-interactive-focus')">Copy</button></div>
                    </div>
                </div>

                <div id="category-colors" class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="tag"></i> Token Category Colors</h2><p class="category-description">Distinctive colors assigned to each token type for visual categorization.</p></div>
                    <div class="tokens-grid color-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--category-color-cyan</div><div class="token-value">#00D1FF</div><div class="token-preview"><div class="color-preview bg-category-cyan" data-hex="#00D1FF"></div></div></div><button class="token-copy" onclick="copyToken('--category-color-cyan')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--category-color-purple</div><div class="token-value">#B48CFF</div><div class="token-preview"><div class="color-preview bg-category-purple" data-hex="#B48CFF"></div></div></div><button class="token-copy" onclick="copyToken('--category-color-purple')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--category-color-orange</div><div class="token-value">#FFB86C</div><div class="token-preview"><div class="color-preview bg-category-orange" data-hex="#FFB86C"></div></div></div><button class="token-copy" onclick="copyToken('--category-color-orange')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--category-color-pink</div><div class="token-value">#FF74BC</div><div class="token-preview"><div class="color-preview bg-category-pink" data-hex="#FF74BC"></div></div></div><button class="token-copy" onclick="copyToken('--category-color-pink')">Copy</button></div>
                    </div>
                </div>
            </section>


            <!-- Typography Section -->
            <section id="typography" class="content-section">
    <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="type"></i> Typography System</h2><p class="section-description">Text styles and font families that create readable, hierarchical content.</p></div>
    <div class="token-category">
        <div class="category-header">
            <h2 class="text-heading-lg category-title">
                <i data-lucide="align-left"></i> Typography Scale
            </h2>
            <p class="category-description">
                Complete typography scale using Open Props font sizing. All sizes are defined in our CSS.
            </p>
        </div>
        <div class="tokens-grid text-grid">
            <div class="example-container">
                <div class="flex flex-col gap-3">
                    <div>
                        <div class="text-heading-xl">Heading XL</div>
                        <code class="text-color-muted text-size-0">.text-heading-xl • var(--font-size-8)</code>
                    </div>
                    <div>
                        <div class="text-heading-lg">Heading LG</div>
                        <code class="text-color-muted text-size-0">.text-heading-lg • var(--font-size-6)</code>
                    </div>
                    <div>
                        <div class="text-heading-md">Heading MD</div>
                        <code class="text-color-muted text-size-0">.text-heading-md • var(--font-size-4)</code>
                    </div>
                    <div>
                        <div class="text-body-lg">Body Large</div>
                        <code class="text-color-muted text-size-0">.text-body-lg • var(--font-size-2)</code>
                    </div>
                    <div>
                        <div class="text-body-md">Body Medium</div>
                        <code class="text-color-muted text-size-0">.text-body-md • var(--font-size-1)</code>
                    </div>
                    <div>
                        <div class="text-label">LABEL TEXT</div>
                        <code class="text-color-muted text-size-0">.text-label • var(--font-size-0)</code>
                    </div>
                    <div>
                        <div class="text-caption">Caption Text</div>
                        <code class="text-color-muted text-size-0">.text-caption • var(--font-size-00)</code>
                    </div>
                </div>
            </div>
        </div>
        <div class="tokens-grid font-grid mt-0">
            <div class="token-item"><div class="token-info"><div class="token-name">--font-sans</div><div class="token-value">'Inter', -apple-system, ...</div><div class="text-preview font-sans">The quick brown fox jumps over the lazy dog.</div></div><button class="token-copy" onclick="copyToken('--font-sans')">Copy</button></div>
            <div class="token-item"><div class="token-info"><div class="token-name">--font-mono</div><div class="token-value">'Monaco', 'Menlo', monospace</div><div class="text-preview font-mono">const greeting = "Hello, World!";</div></div><button class="token-copy" onclick="copyToken('--font-mono')">Copy</button></div>
        </div>
    </div>
</section>

            <!-- Spacing Section -->
            <section id="spacing" class="content-section">
                <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="move-horizontal"></i> Spacing System</h2><p class="section-description">Consistent spacing scale for layouts and component padding.</p></div>
                <div class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="ruler"></i> Spacing Scale</h2><p class="category-description">Open Props spacing scale used for consistent layouts throughout the interface.</p></div>
                    <div class="tokens-grid spacing-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-1</div><div class="token-value">0.25rem • 4px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-1 h-1"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-1')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-2</div><div class="token-value">0.5rem • 8px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-2 h-2"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-2')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-3</div><div class="token-value">0.75rem • 12px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-3 h-3"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-4</div><div class="token-value">1rem • 16px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-4 h-4"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-4')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-6</div><div class="token-value">1.5rem • 24px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-6 h-6"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-6')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-8</div><div class="token-value">2rem • 32px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-8 h-8"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-8')">Copy</button></div>
                    </div>
                </div>
            </section>

            <!-- Shadows Section -->
            <section id="shadows" class="content-section">
                <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="layers"></i> Shadow System</h2><p class="section-description">Elevation and depth through carefully crafted shadows.</p></div>
                <div class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="copy"></i> Shadow Tokens</h2><p class="category-description">Open Props shadow tokens for creating depth and elevation.</p></div>
                    <div class="tokens-grid shadow-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--shadow-2</div><div class="token-value">Subtle elevation</div><div class="token-preview"><div class="shadow-preview shadow-2"></div></div></div><button class="token-copy" onclick="copyToken('--shadow-2')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--shadow-3</div><div class="token-value">Medium elevation</div><div class="token-preview"><div class="shadow-preview shadow-3"></div></div></div><button class="token-copy" onclick="copyToken('--shadow-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--shadow-4</div><div class="token-value">High elevation</div><div class="token-preview"><div class="shadow-preview shadow-4"></div></div></div><button class="token-copy" onclick="copyToken('--shadow-4')">Copy</button></div>
                    </div>
                </div>
            </section>

            <!-- Border Radius Section -->
            <section id="border-radius" class="content-section">
                <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="square"></i> Border Radius</h2><p class="section-description">Consistent corner rounding for a cohesive visual language.</p></div>
                <div class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="circle"></i> Radius Tokens</h2><p class="category-description">Open Props radius tokens for consistent corner rounding.</p></div>
                    <div class="tokens-grid radius-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--radius-1</div><div class="token-value">Small radius</div><div class="token-preview"><div class="radius-preview rounded-1"></div></div></div><button class="token-copy" onclick="copyToken('--radius-1')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--radius-2</div><div class="token-value">Medium radius</div><div class="token-preview"><div class="radius-preview rounded-2"></div></div></div><button class="token-copy" onclick="copyToken('--radius-2')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--radius-3</div><div class="token-value">Large radius</div><div class="token-preview"><div class="radius-preview rounded-3"></div></div></div><button class="token-copy" onclick="copyToken('--radius-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--radius-round</div><div class="token-value">Full round</div><div class="token-preview"><div class="radius-preview rounded-full"></div></div></div><button class="token-copy" onclick="copyToken('--radius-round')">Copy</button></div>
                    </div>
                </div>
            </section>


            <!-- Animations Section -->
            <section id="animations" class="content-section">
                <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="play-circle"></i> Animation System</h2><p class="section-description">Motion design tokens for smooth, consistent animations.</p></div>
                <div class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="film"></i> Animation Tokens</h2><p class="category-description">Open Props animation and easing tokens for smooth motion design.</p></div>
                    <div class="tokens-grid animation-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--ease-3</div><div class="token-value">cubic-bezier(.25, 0, .3, 1)</div><div class="text-preview"><div style="color: var(--color-text-muted);">Standard easing curve</div></div></div><button class="token-copy" onclick="copyToken('--ease-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--ease-spring-3</div><div class="token-value">cubic-bezier(.5, -1, .1, 1.8)</div><div class="text-preview"><div style="color: var(--color-text-muted);">Playful spring easing</div></div></div><button class="token-copy" onclick="copyToken('--ease-spring-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--animation-duration-2</div><div class="token-value">150ms</div><div class="text-preview"><div style="color: var(--color-text-muted);">Standard duration</div></div></div><button class="token-copy" onclick="copyToken('--animation-duration-2')">Copy</button></div>
                    </div>
                </div>
            </section>

            <!-- COMPONENT LIBRARY SECTION -->
<section id="components" class="content-section">
    <div class="section-header">
        <h2 class="text-heading-xl main-section-title"><i data-lucide="component"></i> Component Library</h2>
        <p class="section-description">Reusable UI components that consume foundation tokens. Each component shows which tokens it uses and how they create consistent, scalable interfaces.</p>
    </div>

    <div id="token-summary" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title"><i data-lucide="pie-chart"></i> Token Summary Card</h2>
            <p class="component-description">The central dashboard component that displays the total count of design tokens and breaks them down by type. In advanced mode, token types become clickable for filtering.</p>
            <div class="token-usage">
                <div class="token-usage-title">Tokens Used:</div>
                <div class="token-list">
                    <span class="token-badge">--size-8</span>
                    <span class="token-badge">--size-6</span>
                    <span class="token-badge">--size-4</span>
                    <span class="token-badge">--radius-3</span>
                </div>
            </div>
        </div>
        <div class="component-body">
            
            <div class="example-label">Simple Mode (All Active)</div>
            <div class="example-container">
            <div class="card token-summary"><div class="text-label">Design Tokens</div><div class="text-heading-xl token-count-total">247</div><div class="text-label token-label">Design Tokens Ready to Export</div><div class="token-breakdown"><div class="token-type-stat color active"><i class="icon" data-lucide="palette"></i><div class="count">89</div><div class="text-label label">colors</div></div><div class="token-type-stat text active"><i class="icon" data-lucide="type"></i><div class="count">42</div><div class="text-label label">text</div></div><div class="token-type-stat number active"><i class="icon" data-lucide="hash"></i><div class="count">98</div><div class="text-label label">numbers</div></div><div class="token-type-stat states"><i class="icon" data-lucide="toggle-right"></i><div class="count">18</div><div class="text-label label">states</div></div></div></div></div>
            
            <div class="example-label">Advanced Mode (Selective)</div>
            <div class="example-container">
            <div class="card token-summary advanced-mode"><div class="text-label">Design Tokens</div><div class="text-heading-xl token-count-total">131</div><div class="text-label token-label">Design Tokens Selected</div><div class="token-breakdown"><div class="token-type-stat color active"><i class="icon" data-lucide="palette"></i><div class="count">89</div><div class="text-label label">colors</div></div><div class="token-type-stat text active"><i class="icon" data-lucide="type"></i><div class="count">42</div><div class="text-label label">text</div></div><div class="token-type-stat number"><i class="icon" data-lucide="hash"></i><div class="count">98</div><div class="text-label label">numbers</div></div><div class="token-type-stat states disabled"><i class="icon" data-lucide="toggle-right"></i><div class="count">0</div><div class="text-label label">states</div></div></div></div></div>
            <div class="code-block"><button class="code-copy-btn" onclick="copyCode(this)">Copy</button><code>&lt;div class="card token-summary"&gt;...&lt;/div&gt;</code></div>
        </div>
    </div>

    <div id="buttons" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title"><i data-lucide="mouse-pointer-2"></i> Buttons</h2>
            <p class="component-description">Primary and secondary button styles with hover effects, disabled states, shine animations, and icon-only variants for various UI needs.</p>
        </div>
        <div class="component-body">
            <h3 style="color: var(--brand-primary-lime); margin-bottom: var(--size-4);">Standard Buttons</h3>
            <div class="variants-grid">
                <div class="example-wrapper">
                    <div class="example-label">Primary</div>
                    <div class="example-container">
                        <button class="btn primary"><i data-lucide="rocket"></i> Package Tokens</button>
                    </div>
                </div>
                <div class="example-wrapper">
                    <div class="example-label">Secondary</div>
                    <div class="example-container">
                        <button class="btn secondary"><i data-lucide="arrow-left"></i> Back</button>
                    </div>
                </div>
                <div class="example-wrapper">
                    <div class="example-label">Disabled</div>
                    <div class="example-container">
                        <button class="btn primary" disabled><i data-lucide="rocket"></i> Package 0 Tokens</button>
                    </div>
                </div>
            </div>
            
            <h3 style="color: var(--brand-primary-lime); margin-top: var(--size-6); margin-bottom: var(--size-4);">Icon-Only Buttons</h3>
            <div style="display: flex; gap: var(--size-4); align-items: center; flex-wrap: wrap;">
                <div class="example-wrapper" style="flex: none;">
                    <div class="example-label">Close Button</div>
                    <div class="example-container">
                        <button class="btn-icon-only">
                            <i data-lucide="x-circle"></i>
                        </button>
                    </div>
                </div>
                <div class="example-wrapper" style="flex: none;">
                    <div class="example-label">Social Icons</div>
                    <div class="example-container">
                        <div style="display: flex; gap: var(--size-2);">
                            <button class="btn-icon-only">
                                <i data-lucide="twitter"></i>
                            </button>
                            <button class="btn-icon-only">
                                <i data-lucide="github"></i>
                            </button>
                            <button class="btn-icon-only">
                                <i data-lucide="linkedin"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="example-wrapper" style="flex: none;">
                    <div class="example-label">Action Icons</div>
                    <div class="example-container">
                        <div style="display: flex; gap: var(--size-2);">
                            <button class="btn-icon-only">
                                <i data-lucide="download"></i>
                            </button>
                            <button class="btn-icon-only">
                                <i data-lucide="share-2"></i>
                            </button>
                            <button class="btn-icon-only">
                                <i data-lucide="bookmark"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="code-block"><button class="code-copy-btn" onclick="copyCode(this)">Copy</button><code>&lt;button class="btn primary"&gt;...&lt;/button&gt;
&lt;button class="btn-icon-only"&gt;&lt;i data-lucide="x-circle"&gt;&lt;/i&gt;&lt;/button&gt;</code></div>
        </div>
    </div>

    <div id="forms" class="component-section">
        <div class="component-header"><h2 class="text-heading-lg component-title"><i data-lucide="file-text"></i> Forms</h2><p class="component-description">Form elements including the format selector dropdown with custom styling.</p></div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Live Example</div>
                <div class="example-container">
                    <div class="card export-section"><h3 class="text-label section-title"><i data-lucide="send"></i> Quick Export</h3><p class="text-body-md subtitle">Export all your tokens in your preferred format</p><div class="format-select-wrapper"><select class="format-select"><option value="all">All Formats</option><option value="css" selected>CSS Variables</option><option value="swift">Swift (iOS)</option></select></div><button class="btn primary"><i data-lucide="rocket"></i> Package 247 Tokens</button></div>
                </div>
            </div>
            <div class="code-block"><button class="code-copy-btn" onclick="copyCode(this)">Copy</button><code>&lt;div class="card export-section"&gt;...&lt;/div&gt;</code></div>
        </div>
    </div>

    <div id="collection-items" class="component-section">
        <div class="component-header"><h2 class="text-heading-lg component-title"><i data-lucide="list"></i> Collection Items</h2><p class="component-description">Individual collection list items with custom checkboxes, info, and token type pills.</p></div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Live Example</div>
                <div class="example-container">
                    <div class="collection-list" style="max-height: none;"><div class="collection-item selected"><div class="collection-checkbox"></div><div class="collection-info"><div class="text-body-lg collection-name">Brand Colors</div><div class="collection-pills"><div class="collection-pill color"><i class="icon" data-lucide="palette"></i> <span>24</span></div><div class="collection-pill text"><i class="icon" data-lucide="type"></i> <span>8</span></div></div></div><div class="text-caption collection-count">32 tokens</div></div><div class="collection-item"><div class="collection-checkbox"></div><div class="collection-info"><div class="text-body-lg collection-name">Typography Scale</div><div class="collection-pills"><div class="collection-pill text"><i class="icon" data-lucide="type"></i> <span>16</span></div><div class="collection-pill number"><i class="icon" data-lucide="hash"></i> <span>12</span></div></div></div><div class="text-caption collection-count">28 tokens</div></div></div>
                </div>
            </div>
            <div class="code-block"><button class="code-copy-btn" onclick="copyCode(this)">Copy</button><code>&lt;div class="collection-item selected"&gt;...&lt;/div&gt;</code></div>
        </div>
    </div>
    
    <div id="modals" class="component-section">
        <div class="component-header"><h2 class="text-heading-lg component-title"><i data-lucide="app-window"></i> Modals</h2><p class="component-description">The modal component used for the "About" section in the plugin, featuring a blurred backdrop.</p></div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Live Example</div>
                <div class="example-container" style="height: 450px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                     <div class="about-modal show" style="position: absolute; z-index: var(--layer-base);">
                        <div class="about-content">
                            <button class="about-close"> <i data-lucide="x-circle"></i> </button>
                            <div class="about-avatar"></div>
                            <h2 class="text-heading-md">NATE MILLS</h2>
                            <p class="text-body-md">Building accessible design systems that scale.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="code-block"><button class="code-copy-btn" onclick="copyCode(this)">Copy</button><code>&lt;div class="about-modal show"&gt;...&lt;/div&gt;</code></div>
        </div>
    </div>

    <!-- Modular Card States -->
    <div id="modular-cards" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title">
                <i data-lucide="layout-grid"></i> Modular Card States
            </h2>
            <p class="component-description">
                The plugin interface transforms through different states based on user data and actions. 
                All transitions happen in-place for a seamless experience.
            </p>
        </div>
        <div class="component-body">
            
            <!-- Empty State -->
             <!-- Empty State -->
<div class="state-group">
    <div class="example-wrapper">
        <div class="example-label">Empty State</div>
        <div class="example-container">
            <div class="empty-state-container">
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i data-lucide="package"></i>
                    </div>
                    <div>
                        <div class="text-heading-lg empty-state-title">Let's build something!</div>
                        <div class="text-body-md empty-state-subtitle">
                            Turn your colors, text styles, and spacing into code-ready tokens.
                        </div>
                        <div class="empty-state-categories">
                            <div class="empty-state-category">
                                <i data-lucide="palette" class="category-icon-cyan"></i>
                                <div class="text-caption">Colors</div>
                            </div>
                            <div class="empty-state-category">
                                <i data-lucide="type" class="category-icon-purple"></i>
                                <div class="text-caption">Typography</div>
                            </div>
                            <div class="empty-state-category">
                                <i data-lucide="move-horizontal" class="category-icon-orange"></i>
                                <div class="text-caption">Spacing</div>
                            </div>
                        </div>
                    </div>
                    <button class="btn primary btn-auto-width">
                        Create variables <i data-lucide="arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="state-documentation">
        <div class="state-documentation-title">Key Info:</div>
        <div class="token-list">
            <span class="token-badge">Full interface takeover</span>
            <span class="token-badge">Friendly messaging</span>
            <span class="token-badge">Clear CTA</span>
        </div>
    </div>
</div>

            <!-- Loading State -->
            <div class="state-group">
                <div class="example-wrapper">
                    <div class="example-label">Loading State</div>
                    <div class="example-container">
                        <div class="card token-summary-skeleton">
                            <div class="skeleton-item skeleton-heading"></div>
                            <div class="skeleton-item skeleton-subheading"></div>
                            <div class="skeleton-breakdown">
                                <div class="skeleton-stat">
                                    <div class="skeleton-item skeleton-icon"></div>
                                    <div class="skeleton-item skeleton-text"></div>
                                </div>
                                <div class="skeleton-stat">
                                    <div class="skeleton-item skeleton-icon"></div>
                                    <div class="skeleton-item skeleton-text"></div>
                                </div>
                                <div class="skeleton-stat">
                                    <div class="skeleton-item skeleton-icon"></div>
                                    <div class="skeleton-item skeleton-text"></div>
                                </div>
                                <div class="skeleton-stat">
                                    <div class="skeleton-item skeleton-icon"></div>
                                    <div class="skeleton-item skeleton-text"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="state-documentation">
                    <div class="state-documentation-title">Key Info:</div>
                    <p style="color: var(--color-text-secondary); margin: 0;">This component provides a high-fidelity loading state for the Token Summary card, preventing layout shift while collections are fetched. It uses a soft pulse animation for a modern feel.</p>
                    <div class="token-list" style="margin-top: var(--size-2);">
                        <span class="token-badge">Replaces old skeleton examples</span>
                        <span class="token-badge">Uses skeleton-pulse animation</span>
                        <span class="token-badge">1:1 match of component layout</span>
                    </div>
                </div>
            </div>
            
            <!-- Export Flow States Group -->
            <div class="state-group">
                <div class="state-group-header">
                    <h3 class="state-group-title">Export Flow States</h3>
                    <p style="color: var(--color-text-secondary); margin: 0;">
                        The export process follows a 4-stage animation sequence
                    </p>
                </div>
                
                <!-- Processing State -->
                <div class="example-wrapper">
                    <div class="example-label">Processing State (Export Progress)</div>
                    <div class="example-container">
                        <div class="card token-summary" style="position: relative; overflow: hidden; min-height: 300px;">
                            <div class="liquid-progress-overlay" id="modular-liquid-demo" style="position: absolute; inset: 0; background: rgba(30, 30, 30, 0.95); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: var(--size-6); z-index: var(--layer-card);">
                                <!-- Centered animation -->
                                <div class="liquid-progress" style="--progress-size: 120px; position: relative; width: var(--progress-size); height: var(--progress-size); border-radius: 50%; background: #2a2a2a; border: var(--border-size-3) solid #333; box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5), 0 0 30px rgba(210, 255, 55, 0.15); overflow: hidden; margin-bottom: var(--size-4);">
                                    <div class="liquid-progress-inner" style="position: absolute; top: 6px; left: 6px; right: 6px; bottom: 6px; border-radius: 50%; background: #1a1a1a; overflow: hidden;">
                                        <div class="liquid-wave" id="modular-liquid-wave" style="position: absolute; top: 75%; left: -50%; width: 200%; height: 200%; background: var(--brand-gradient-lime); border-radius: 45%; animation: wave-animation 4s linear infinite; opacity: 0.9; transition: top 0.5s ease;"></div>
                                        <!-- Second wave for depth -->
                                        <div class="liquid-wave" style="position: absolute; top: 75%; left: -50%; width: 200%; height: 200%; background: var(--brand-gradient-lime); border-radius: 45%; animation: wave-animation 6s linear infinite reverse; opacity: 0.5; transition: top 0.5s ease;"></div>
                                    </div>
                                    <!-- Black text that moves with water -->
                                    <div id="modular-percentage-container" style="position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; align-items: baseline; transition: bottom 0.5s ease;">
                                        <span id="modular-progress-number" style="font-size: 24px; font-weight: 600; color: var(--brand-text-dark); text-shadow: 0 0 3px rgba(255, 255, 255, 0.5);">25</span>
                                        <span style="font-size: 14px; font-weight: 400; color: var(--brand-text-dark); margin-left: 2px; text-shadow: 0 0 3px rgba(255, 255, 255, 0.5);">%</span>
                                    </div>
                                </div>
                                
                                <!-- Centered text below -->
                                <div style="text-align: center;">
                                    <div class="text-label" id="modular-stage-label" style="color: var(--brand-primary-lime); margin-bottom: var(--size-2); text-transform: uppercase; letter-spacing: 0.1em;">ANALYZING TOKENS</div>
                                    <div class="text-body-md" id="modular-stage-detail" style="color: var(--color-text-secondary);">Scanning your variable collections...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Control Button -->
                    <div style="text-align: center; margin-top: var(--size-4);">
                        <button class="btn secondary" id="modular-liquid-play-btn" style="width: auto; padding: var(--size-2) var(--size-4);" onclick="toggleModularLiquidAnimation()">
                            <i data-lucide="play"></i> Play Animation
                        </button>
                    </div>
                </div>
                
                <!-- 4 Stage Documentation -->
                <div class="state-documentation mb-4">
                <div class="state-documentation-title">4 Stage Process:</div>
                <div class="grid grid-cols-2 gap-2 mt-2">
                    <div class="bg-gray-8 p-2 rounded-1">
                        <strong class="text-brand-primary-lime">Stage 1 (25%):</strong> Analyzing - Scanning collections
                    </div>
                    <div class="bg-gray-8 p-2 rounded-1">
                        <strong class="text-brand-primary-lime">Stage 2 (50%):</strong> Packaging - Creating files
                    </div>
                    <div class="bg-gray-8 p-2 rounded-1">
                        <strong class="text-brand-primary-lime">Stage 3 (75%):</strong> Sanitizing - Validating output
                    </div>
                    <div class="bg-gray-8 p-2 rounded-1">
                        <strong class="text-brand-primary-lime">Stage 4 (100%):</strong> Finalizing - Ready to download
                    </div>
                </div>
            </div>

                
                <!-- Success State -->
                <div class="example-wrapper">
                    <div class="example-label">Success State (Download Ready)</div>
                    <div class="example-container">
                        <div class="card token-summary" style="text-align: center; position: relative; padding: var(--size-8) var(--size-6);">
                            <!-- Close button (circular, outline, secondary) -->
                            <button class="btn-icon-only" style="position: absolute; top: var(--size-3); right: var(--size-3);">
                                <i data-lucide="x-circle"></i>
                            </button>
                            
                            <i data-lucide="check-circle-2" class="success-icon"></i>
                            <div class="text-heading-lg" style="margin-bottom: var(--size-2);">Export Complete!</div>
                            <div class="text-body-md" style="color: var(--color-text-secondary); margin-bottom: var(--size-6);">247 tokens packaged successfully</div>
                            <button class="btn primary"><i data-lucide="download"></i> Download design-tokens.zip</button>
                        </div>
                    </div>
                </div>
                <div class="state-documentation">
                    <div class="state-documentation-title">Key Info:</div>
                    <div class="token-list">
                        <span class="token-badge">Follows processing state</span>
                        <span class="token-badge">Icon-only close button</span>
                        <span class="token-badge">Clear download CTA</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Toggle -->
    <div id="advanced-toggle" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title"><i data-lucide="sliders-horizontal"></i> Mode Toggle</h2>
            <p class="component-description">Toggle between simple and advanced export modes for different user needs.</p>
        </div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Simple Mode Toggle</div>
                <div class="example-container">
                    <div class="advanced-toggle">
                        <a href="#" class="advanced-link text-body-md">Need specific tokens? <i data-lucide="arrow-right"></i></a>
                    </div>
                </div>
            </div>
            <div class="example-wrapper" style="margin-top: var(--size-4);">
                <div class="example-label">Advanced Mode Toggle</div>
                <div class="example-container">
                    <div class="advanced-toggle">
                        <button class="btn secondary"><i data-lucide="arrow-left"></i> Back to Simple Export</button>
                    </div>
                </div>
            </div>
            <div class="code-block"><button class="code-copy-btn" onclick="copyCode(this)">Copy</button><code>&lt;div class="advanced-toggle"&gt;...&lt;/div&gt;</code></div>
        </div>
    </div>

</section>

            <!-- PATTERNS SECTION -->
           <section id="advanced-components" class="content-section">
    <div class="section-header">
        <h2 class="text-heading-xl main-section-title">
            <i data-lucide="sparkles"></i>
            Advanced Components
        </h2>
        <p class="section-description">
            Additional UI components for enhanced functionality including filters, bulk actions, and specialized widgets.
        </p>
    </div>

    <div id="filter-system" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title">
                <i data-lucide="filter"></i> Filter System
            </h2>
            <p class="component-description">
                Expandable filter groups with chip-based selection for refining large datasets. Features smooth animations and clear visual states.
            </p>
            <div class="token-usage">
                <div class="token-usage-title">Tokens Used:</div>
                <div class="token-list">
                    <span class="token-badge">--color-background-secondary</span>
                    <span class="token-badge">--radius-3</span>
                    <span class="token-badge">--brand-primary-lime</span>
                    <span class="token-badge">--animation-duration-3</span>
                </div>
            </div>
        </div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Collapsed State</div>
                <div class="example-container">
                    <div class="filter-group">
                        <div class="filter-header">
                            <span>Filter by Type</span>
                            <i class="filter-toggle-icon lucide" data-lucide="chevron-down"></i>
                        </div>
                        <div class="filter-content">
                            </div>
                    </div>
                </div>
            </div>

            <div class="example-wrapper">
                <div class="example-label">Expanded State with Active Filters</div>
                <div class="example-container">
                    <div class="filter-group expanded">
                        <div class="filter-header">
                            <span>Filter by Type</span>
                            <i class="filter-toggle-icon lucide" data-lucide="chevron-down"></i>
                        </div>
                        <div class="filter-content">
                            <div class="filter-chips">
                                <div class="filter-chip">Colors</div>
                                <div class="filter-chip active">
                                    Typography
                                    <span class="remove-icon">×</span>
                                </div>
                                <div class="filter-chip">Spacing</div>
                                <div class="filter-chip active">
                                    Effects
                                    <span class="remove-icon">×</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="code-block">
                <button class="code-copy-btn" onclick="copyCode(this)">Copy</button>
                <code>&lt;div class="filter-group expanded"&gt;
    &lt;div class="filter-header"&gt;
        &lt;span&gt;Filter by Type&lt;/span&gt;
        &lt;i class="filter-toggle-icon" data-lucide="chevron-down"&gt;&lt;/i&gt;
    &lt;/div&gt;
    &lt;div class="filter-content"&gt;
        &lt;div class="filter-chips"&gt;
            &lt;div class="filter-chip active"&gt;Typography&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code>
            </div>
        </div>
    </div>

    <div id="collection-search" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title">
                <i data-lucide="search"></i> Collection Search
            </h2>
            <p class="component-description">
                Search input with icon positioning for filtering collections. Appears automatically when collections exceed 5 items.
            </p>
        </div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Search Input</div>
                <div class="example-container">
                    <div class="search-container">
                        <i class="lucide lucide-search" data-lucide="search"></i>
                        <input type="text" class="collection-search search-input" placeholder="Search collections...">
                    </div>
                </div>
            </div>
            
            <div class="code-block">
                <button class="code-copy-btn" onclick="copyCode(this)">Copy</button>
                <code>&lt;div class="search-container"&gt;
    &lt;i class="lucide-search" data-lucide="search"&gt;&lt;/i&gt;
    &lt;input type="text" class="collection-search" placeholder="Search collections..."&gt;
&lt;/div&gt;</code>
            </div>
        </div>
    </div>

    <div id="recent-collections" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title">
                <i data-lucide="clock"></i> Recent Collections
            </h2>
            <p class="component-description">
                Quick access widget showing recently used collections with chip-based UI for rapid selection.
            </p>
        </div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Recent Collections Widget</div>
                <div class="example-container">
                    <div class="recent-collections">
                        <div class="recent-collections-header">
                            <i data-lucide="clock"></i>
                            Recent Collections
                        </div>
                        <div class="recent-collections-list">
                            <div class="recent-chip">Brand Colors</div>
                            <div class="recent-chip">Typography Scale</div>
                            <div class="recent-chip">Spacing Tokens</div>
                            <div class="recent-chip">Component States</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="code-block">
                <button class="code-copy-btn" onclick="copyCode(this)">Copy</button>
                <code>&lt;div class="recent-collections"&gt;
    &lt;div class="recent-collections-header"&gt;
        &lt;i data-lucide="clock"&gt;&lt;/i&gt; Recent Collections
    &lt;/div&gt;
    &lt;div class="recent-collections-list"&gt;
        &lt;div class="recent-chip"&gt;Brand Colors&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code>
            </div>
        </div>
    </div>

    <div id="bulk-actions" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title">
                <i data-lucide="check-square"></i> Bulk Actions
            </h2>
            <p class="component-description">
                Contextual action bar that appears when multiple items are selected. Features smooth slide-in animation.
            </p>
        </div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Bulk Actions Bar (Visible State)</div>
                <div class="example-container">
                    <div class="bulk-actions visible">
                        <span class="text-body-md">3 collections selected</span>
                        <div style="display: flex; gap: var(--size-2); margin-left: auto;">
                            <button class="btn tertiary" style="width: auto;">
                                Select All
                            </button>
                            <button class="btn tertiary" style="width: auto;">
                                Clear Selection
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="code-block">
                <button class="code-copy-btn" onclick="copyCode(this)">Copy</button>
                <code>&lt;div class="bulk-actions visible"&gt;
    &lt;span&gt;3 collections selected&lt;/span&gt;
    &lt;button class="btn tertiary"&gt;Select All&lt;/button&gt;
&lt;/div&gt;</code>
            </div>
        </div>
    </div>

    <div id="export-preview" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title">
                <i data-lucide="code-2"></i> Export Preview
            </h2>
            <p class="component-description">
                Code preview window showing a sample of generated tokens before download. Features syntax highlighting appearance and scrollable content.
            </p>
        </div>
        <div class="component-body">
            <div class="example-wrapper"></div>
            <div class="example-label">CSS Variables Preview</div>
            <div class="example-container">
                
                <div class="export-preview">
                    <pre><code>:root {
  /* Brand Colors */
  --brand-primary-lime: #D2FF37;
  --brand-secondary-yellow: #EEFF00;
  --brand-text-dark: #1E1E1E;
  
  /* Token Categories */
  --category-color-cyan: #00D1FF;
  --category-color-purple: #B48CFF;
  --category-color-orange: #FFB86C;
  --category-color-pink: #FF74BC;
  
  /* Gray Scale */
  --gray-0: #ffffff;
  --gray-1: #f0f0f0;
  --gray-2: #cccccc;
}</code></pre>
                </div>
            </div>
            
            <div class="code-block">
                <button class="code-copy-btn" onclick="copyCode(this)">Copy</button>
                <code>&lt;div class="export-preview"&gt;
    &lt;pre&gt;&lt;code&gt;:root {
  --brand-primary-lime: #D2FF37;
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</code>
            </div>
        </div>
    </div>

    <div id="performance-utilities" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title">
                <i data-lucide="zap"></i> Performance Utilities
            </h2>
            <p class="component-description">
                CSS utility classes for optimizing rendering performance and paint operations.
            </p>
        </div>
        <div class="component-body">
            <div class="example-wrapper"></div>
            <div class="example-label">Utility Classes</div>
            <div class="example-container">
                <div class="pattern-content">
                    <h4>GPU Acceleration</h4>
                    <pre><code>.gpu-accelerated {
    will-change: transform;
    transform: translateZ(0);
}</code></pre>
                    
                    <h4>Reduce Paint</h4>
                    <pre><code>.reduce-paint {
    contain: layout style paint;
}</code></pre>
                    
                    <p style="margin-top: var(--size-4);">
                        Apply these utilities to frequently animated elements or complex components to improve performance.
                    </p>
                </div>
            </div>
        </div>
    </div>

            <!-- Skeleton Loading Section -->
            <div id="skeletons" class="component-section">
                <div class="component-header">
                    <h2 class="text-heading-lg component-title">
                        <i data-lucide="loader"></i> Skeleton Loading
                    </h2>
                    <p class="component-description">
                        Used to indicate a loading state and prevent layout shift by matching the dimensions of the content that is loading.
                    </p>
                </div>
                <div class="component-body">
                     <div class="example-wrapper"></div>
                        <div class="example-label">Live Example</div>
                       <div class="example-container">

                        <div class="skeleton-item skeleton-breathe"></div>
                    </div>
                    <div class="pattern-section" style="margin-top: var(--size-6); margin-bottom: 0;">
                        <h3 class="text-heading-md pattern-title">
                            <i data-lucide="info"></i>
                            Design Rationale
                        </h3>
                        <div class="pattern-content">
                            <p>The system uses a single, opinionated skeleton style called "Breathe." We chose this subtle animation over more aggressive "shimmer" effects or traditional spinners for several reasons:</p>
                            <ul>
                                <li><strong>Low Cognitive Load:</strong> The gentle pulsing is less distracting than a fast-moving shimmer, allowing the user to focus on the overall page structure.</li>
                                <li><strong>Modern Feel:</strong> It provides a more sophisticated, modern feel compared to older spinner-style loaders.</li>
                                <li><strong>Performance:</strong> It is a simple opacity and transform animation that is very lightweight and performant.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="code-block">
                        <button class="code-copy-btn" onclick="copyCode(this)">Copy</button>
                        <code>&lt;div class="skeleton-item skeleton-breathe"&gt;&lt;/div&gt;</code>
                    </div>
                </div>
            </div>

</section>

<section id="shoelace-integration" class="content-section">
    <div class="section-header">
        <h2 class="text-heading-xl main-section-title">
            <i data-lucide="package-2"></i>
            External Library Integration
        </h2>
        <p class="section-description">
            How Token Exporter integrates with Shoelace web components, mapping our design tokens to their theming system.
        </p>
    </div>

    <div class="pattern-section">
        <h3 class="text-heading-md pattern-title">
            <i data-lucide="palette"></i>
            Shoelace Theme Mapping
        </h3>
        <div class="pattern-content">
            <p>Token Exporter maps its design tokens to Shoelace CSS custom properties for seamless integration:</p>
            
            <h4>Color Mapping</h4>
            <pre><code>/* Primary Colors */
--sl-color-primary-600: var(--brand-primary-lime);
--sl-color-primary-500: var(--brand-secondary-yellow);

/* Neutral Colors */
--sl-color-neutral-0: var(--gray-0);
--sl-color-neutral-800: var(--gray-9);</code></pre>

            <h4>Typography Mapping</h4>
            <pre><code>--sl-font-sans: var(--font-sans);
--sl-font-mono: var(--font-mono);
--sl-font-weight-semibold: var(--font-weight-6);</code></pre>

            <h4>Spacing & Radius</h4>
            <pre><code>--sl-spacing-medium: var(--size-4);
--sl-border-radius-medium: var(--radius-2);</code></pre>
        </div>
    </div>

    <div class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title">
                <i data-lucide="square-mouse-pointer"></i> Shoelace Button
            </h2>
            <p class="component-description">
                Enhanced button component using Shoelace's sl-button with custom theming.
            </p>
        </div>
        <div class="component-body">
            <div class="variants-grid">
                <div class="example-wrapper"></div>
                <div class="example-label">Primary Variant</div>
                <div class="example-container">

                    <sl-button variant="primary">
                        <i slot="prefix" data-lucide="rocket"></i>
                        Export Tokens
                    </sl-button>
                </div>
                
                    <div class="example-wrapper"></div>
                    <div class="example-label">Circle Icon Button</div>
                    <div class="example-container">

                    <sl-button variant="default" circle>
                        <i data-lucide="x"></i>
                    </sl-button>
                </div>
            </div>
            
            <div class="code-block">
                <button class="code-copy-btn" onclick="copyCode(this)">Copy</button>
                <code>&lt;sl-button variant="primary"&gt;
    &lt;i slot="prefix" data-lucide="rocket"&gt;&lt;/i&gt;
    Export Tokens
&lt;/sl-button&gt;</code>
            </div>
        </div>
    </div>
</section>

            <!-- Guide Footer Section -->
            <footer id="about" class="guide-footer">
                <div class="footer-content">
                    <div class="footer-brand">
                        <div class="footer-logo">
                            <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip_footer_logo)">
                                    <path d="M0 0H355V355H0V0Z" fill="url(#paint_footer_linear)"/>
                                    <circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                                    <path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/>
                                    <circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                                </g>
                                <defs>
                                    <linearGradient id="paint_footer_linear" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#D2FF37"/>
                                        <stop offset="1" stop-color="#EEFF00"/>
                                    </linearGradient>
                                    <clipPath id="clip_footer_logo">
                                        <rect width="355" height="355" rx="58" fill="white"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </div>
                        <h3 class="footer-title">Token Exporter</h3>
                        <p class="footer-tagline">Created with <span class="heart">❤️</span> by Nate Mills</p>
                    </div>
                    
                    <div class="footer-actions">
                        <a href="https://www.figma.com/community/plugin/1521741753717588633" target="_blank" class="footer-cta">
                            <svg width="15" height="15" viewBox="0 0 38 57" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 28.5C19 23.2533 23.2533 19 28.5 19C33.7467 19 38 23.2533 38 28.5C38 33.7467 33.7467 38 28.5 38C23.2533 38 19 33.7467 19 28.5Z"/>
                                <path d="M0 47.5C0 42.2533 4.25329 38 9.5 38H19V47.5C19 52.7467 14.7467 57 9.5 57C4.25329 57 0 52.7467 0 47.5Z"/>
                                <path d="M19 0V19H9.5C4.25329 19 0 14.7467 0 9.5C0 4.25329 4.25329 0 9.5 0H19Z"/>
                                <path d="M0 28.5C0 23.2533 4.25329 19 9.5 19H19V38H9.5C4.25329 38 0 33.7467 0 28.5Z"/>
                                <path d="M19 0H28.5C33.7467 0 38 4.25329 38 9.5C38 14.7467 33.7467 19 28.5 19H19V0Z"/>
                            </svg>
                            <span>Get the Plugin</span>
                        </a>
                        
                        <div class="footer-social-links">
                            <a href="https://natemills.me" target="_blank" class="social-link" title="Portfolio">
                                <i data-lucide="briefcase"></i>
                            </a>
                            <a href="https://www.linkedin.com/in/millsdesign/" target="_blank" class="social-link" title="LinkedIn">
                                <i data-lucide="linkedin"></i>
                            </a>
                            <a href="https://github.com/n8mills-UI/token-exporter-ds" target="_blank" class="social-link" title="GitHub">
                                <i data-lucide="github"></i>
                            </a>
                            <a href="mailto:nate@natemills.me" class="social-link" title="Email">
                                <i data-lucide="mail"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </footer>


        </main>
    </div>


<script>
    // --- INITIALIZATION ---
    document.addEventListener('DOMContentLoaded', () => {
        initializeNavigation();
        initializeMobileMenu(); // This is the new, updated function
        initializeScrollHeader(); // This is the new function for the header
        animateCounters();
        initFAQAccordion();
        initTechHover();
    });

    // --- Initialize Lucide Icons ---
    window.addEventListener('load', () => {
      lucide.createIcons();
    });

    // --- ORIGINAL FUNCTIONS FROM YOUR FILE ---
    function animateCounters() {
        const counters = document.querySelectorAll('.counter');
        if (!counters.length) return;
        counters.forEach(counter => {
            const target = parseInt(counter.dataset.target);
            const duration = 2000;
            const increment = target / (duration / 16);
            let current = 0;
            const updateCounter = () => {
                current += increment;
                if (current < target) {
                    counter.textContent = Math.ceil(current);
                    requestAnimationFrame(updateCounter);
                } else {
                    counter.textContent = target;
                }
            };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        updateCounter();
                        observer.unobserve(entry.target);
                    }
                });
            });
            observer.observe(counter);
        });
    }

    function initFAQAccordion() {
        const faqItems = document.querySelectorAll('.faq-item');
        if (!faqItems.length) return;
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            if (!question) return;
            question.addEventListener('click', () => {
                item.classList.toggle('open');
            });
        });
    }

    function initTechHover() {
        const techItems = document.querySelectorAll('.tech-item[data-tech]');
        const defaultContent = document.getElementById('tech-info-default');
        if (!techItems.length || !defaultContent) return;
        const showTechInfo = (tech) => {
            document.querySelectorAll('.tech-info-content').forEach(content => {
                content.style.display = 'none';
                content.classList.remove('active');
            });
            const targetContent = document.getElementById(`tech-info-${tech}`);
            if (targetContent) {
                targetContent.style.display = 'block';
                setTimeout(() => targetContent.classList.add('active'), 10);
            }
            techItems.forEach(ti => ti.classList.remove('active'));
            const activeItem = document.querySelector(`.tech-item[data-tech="${tech}"]`);
            if (activeItem) activeItem.classList.add('active');
        };
        const showDefaultInfo = () => {
             document.querySelectorAll('.tech-info-content').forEach(content => {
                content.style.display = 'none';
                content.classList.remove('active');
            });
            if (defaultContent) {
                defaultContent.style.display = 'block';
                setTimeout(() => defaultContent.classList.add('active'), 10);
            }
            techItems.forEach(item => item.classList.remove('active'));
        };
        showDefaultInfo();
        techItems.forEach(item => {
            const tech = item.getAttribute('data-tech');
            item.addEventListener('mouseenter', () => showTechInfo(tech));
            item.addEventListener('click', () => showTechInfo(tech));
        });
        const techGrid = document.querySelector('.tech-stack-grid');
        if (techGrid) {
            techGrid.addEventListener('mouseleave', showDefaultInfo);
        }
    }

    function initializeNavigation() {
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
        const sections = document.querySelectorAll('.content-section, .token-category, .component-section, .pattern-section');
        const observer = new IntersectionObserver(entries => {
            let visibleSections = [];
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    visibleSections.push(entry.target);
                }
            });
            if (visibleSections.length > 0) {
                visibleSections.sort((a, b) => a.getBoundingClientRect().top - b.getBoundingClientRect().top);
                const activeId = visibleSections[0].getAttribute('id');
                navLinks.forEach(link => {
                    const linkHref = link.getAttribute('href');
                    if (linkHref === '#colors') {
                        const isColorSectionVisible = activeId === 'colors' || activeId === 'brand-colors' || activeId === 'gray-scale' || activeId === 'semantic-colors' || activeId === 'category-colors';
                        link.classList.toggle('active', isColorSectionVisible);
                    } else {
                        link.classList.toggle('active', linkHref === `#${activeId}`);
                    }
                });
            }
        }, { rootMargin: "-40% 0px -60% 0px" });
        sections.forEach(section => {
            observer.observe(section);
        });
    }

    function copyToken(tokenName) {
        navigator.clipboard.writeText(tokenName).then(() => {
            const buttons = document.querySelectorAll('.token-copy');
            buttons.forEach(button => {
                if (button.getAttribute('onclick') === `copyToken('${tokenName}')`) {
                    const originalText = button.innerHTML;
                    button.innerHTML = '<i data-lucide="check" style="width: 1em; height: 1em;"></i> Copied!';
                    button.style.color = 'var(--brand-primary-lime)';
                    lucide.createIcons();
                    setTimeout(() => {
                        button.innerHTML = originalText;
                        button.style.color = '';
                    }, 2000);
                }
            });
        }).catch(err => {
            console.error('Failed to copy token: ', err);
        });
    }
    
    function copyCode(button) {
        const codeBlock = button.nextElementSibling;
        if (!codeBlock || codeBlock.tagName.toLowerCase() !== 'code') {
            console.error('Could not find code element to copy.');
            return;
        }
        const code = codeBlock.textContent.trim();
        navigator.clipboard.writeText(code).then(() => {
            const originalText = button.innerHTML;
            button.innerHTML = '<i data-lucide="check" style="width: 1em; height: 1em;"></i> Copied!';
            button.style.color = 'var(--brand-primary-lime)';
            lucide.createIcons();
            setTimeout(() => {
                button.innerHTML = originalText;
                button.style.color = '';
            }, 2000);
        }).catch(err => {
            console.error('Failed to copy code: ', err);
        });
    }

    // --- NEW & UPDATED FUNCTIONS FOR MOBILE HEADER ---
    function initializeMobileMenu() {
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle-right');
        const menuCloseBtn = document.getElementById('menu-close-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuOverlay = document.getElementById('menu-overlay');
        const sidebar = document.getElementById('sidebar');
        const mobileNavLinksContainer = document.getElementById('mobile-nav-links');

        const populateMobileMenu = () => {
            const sidebarLinks = sidebar.querySelectorAll('.nav-links li');
            mobileNavLinksContainer.innerHTML = '';
            sidebarLinks.forEach(link => {
                mobileNavLinksContainer.appendChild(link.cloneNode(true));
            });
        };

        const openMenu = () => {
            mobileMenu.classList.add('open');
            menuOverlay.classList.add('open');
        };

        const closeMenu = () => {
            mobileMenu.classList.remove('open');
            menuOverlay.classList.remove('open');
        };
        
        populateMobileMenu();
        mobileMenuToggle.addEventListener('click', openMenu);
        menuCloseBtn.addEventListener('click', closeMenu);
        menuOverlay.addEventListener('click', closeMenu);
        
        mobileNavLinksContainer.addEventListener('click', (e) => {
            if (e.target.closest('a')) {
                closeMenu();
            }
        });
    }

    function initializeScrollHeader() {
        const header = document.getElementById('mobile-header');
        if (!header) return;

        let lastScrollY = window.scrollY;
        const headerHeight = parseFloat(getComputedStyle(header).height);

        window.addEventListener('scroll', () => {
            if (document.getElementById('mobile-menu').classList.contains('open')) return;
            
            if (lastScrollY < window.scrollY && window.scrollY > headerHeight) {
                header.classList.add('hidden');
            } else {
                header.classList.remove('hidden');
            }
            lastScrollY = window.scrollY;
        });
    }
</script>

<a href="YOUR_GITHUB_REPO_URL" target="_blank" rel="noopener noreferrer" class="version-badge" title="View on GitHub">
    v<span id="version"></span>
</a><script>
    document.addEventListener('DOMContentLoaded', () => {
        const version = getComputedStyle(document.documentElement).getPropertyValue('--system-version').replace(/['"]/g,'').trim();
        if (version) {
            document.getElementById('version').textContent = version;
        }
    });
</script>

</body>
</html>
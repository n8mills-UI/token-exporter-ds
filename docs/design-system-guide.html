<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Exporter - Design System Guide</title>
    
    <!-- Lucide Icons Script -->
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/shoelace.js"></script>

    
    <!-- === YOUR CENTRAL DESIGN SYSTEM STYLESHEET === -->
    <link rel="stylesheet" href="design-system.css">    
</head>



<body>
    <!-- Mobile menu toggle -->
  <!-- START: New Mobile Header -->
<header class="mobile-header" id="mobile-header">
    <div class="header-brand">
        <div class="mobile-header-logo">
            <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_mobile_logo)"><path d="M0 0H355V355H0V0Z" fill="url(#paint0_linear_mobile_logo)"/><circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/><path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/><circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/></g>
                <defs><linearGradient id="paint0_linear_mobile_logo" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse"><stop stop-color="#D2FF37"/><stop offset="1" stop-color="#EEFF00"/></linearGradient><clipPath id="clip0_mobile_logo"><rect width="355" height="355" rx="58" fill="white"/></clipPath></defs>
            </svg>
        </div>
        <span class="header-title">Token Exporter</span>
    </div>
    <button class="mobile-menu-toggle-right" id="mobile-menu-toggle-right" aria-label="Toggle navigation">
        <i data-lucide="menu"></i>
    </button>
</header>
<!-- END: New Mobile Header -->

<!-- START: New Mobile Menu Panel -->
<div class="menu-overlay" id="menu-overlay"></div>
<nav class="mobile-menu" id="mobile-menu">
    <div class="menu-header">
         <button class="menu-close-btn" id="menu-close-btn" aria-label="Close navigation">
            <i data-lucide="x"></i>
        </button>
    </div>
    <!-- The navigation links will be dynamically populated by the existing sidebar script -->
    <ul class="mobile-nav-links" id="mobile-nav-links">
        <!-- Links will be inserted here by JavaScript -->
    </ul>
</nav>
<!-- END: New Mobile Menu Panel -->


    <div class="guide-container">
        <!-- Sidebar Navigation -->
        <nav class="guide-sidebar" id="sidebar">
            <div class="guide-header">
                <div class="guide-logo">
                    <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_9098_160422_guide)">
                        <path d="M0 0H355V355H0V0Z" fill="url(#paint0_linear_9098_160422_guide)"/>
                        <circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                        <path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/>
                        <circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                        </g>
                        <defs>
                        <linearGradient id="paint0_linear_9098_160422_guide" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#D2FF37"/>
                        <stop offset="1" stop-color="#EEFF00"/>
                        </linearGradient>
                        <clipPath id="clip0_9098_160422_guide">
                        <rect width="355" height="355" rx="58" fill="white"/>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                <h1 class="text-heading-md guide-title">Token Exporter</h1>
            </div>
            <div class="nav-wrapper">
    <!-- Foundation (no changes) -->
    <div class="nav-section">
        <h3 class="nav-section-title">Foundation</h3>
        <ul class="nav-links">
            <li><a href="#overview" class="nav-link"><i data-lucide="layout-dashboard"></i> Overview</a></li>
            <li><a href="#colors" class="nav-link"><i data-lucide="palette"></i> Colors</a></li>
            <li><a href="#typography" class="nav-link"><i data-lucide="type"></i> Typography</a></li>
            <li><a href="#spacing" class="nav-link"><i data-lucide="move-horizontal"></i> Spacing</a></li>
            <li><a href="#shadows" class="nav-link"><i data-lucide="layers"></i> Shadows</a></li>
            <li><a href="#border-radius" class="nav-link"><i data-lucide="square"></i> Border Radius</a></li>
            <li><a href="#animations" class="nav-link"><i data-lucide="play-circle"></i> Animations</a></li>
        </ul>
    </div>
    
    <!-- Simplified Components -->
    <div class="nav-section">
        <h3 class="nav-section-title">Components</h3>
        <ul class="nav-links">
            <li><a href="#token-card" class="nav-link"><i data-lucide="pie-chart"></i> Token Card</a></li>
            <li><a href="#buttons" class="nav-link"><i data-lucide="mouse-pointer-2"></i> Buttons & Controls</a></li>
            <li><a href="#forms" class="nav-link"><i data-lucide="file-text"></i> Forms & Inputs</a></li>
            <li><a href="#collection-items" class="nav-link"><i data-lucide="list"></i> Collections</a></li>
            <li><a href="#modals" class="nav-link"><i data-lucide="app-window"></i> Modals</a></li>
        </ul>
    </div>
</div>
            <div class="sidebar-footer">
                 <ul class="nav-links">
                    <li><a href="#about" class="nav-link"><i data-lucide="circle-user-round"></i> About & Links</a></li>
                </ul>
            </div>
        </nav>
        
        <!-- Main Content -->
        <main class="guide-content">
<section id="overview" class="content-section" style="padding: 0;">
    <!-- HERO SECTION -->
    <div class="portfolio-hero">
        <div class="hero-content-wrapper">
            <div class="m-0 z-1 relative">
                <!-- Logo component -->
                <div class="hero-logo">
                    <div class="token-exporter-logo xl">
                        <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_hero_logo)">
                                <path d="M0 0H355V355H0V0Z" fill="url(#paint0_linear_hero_logo)"/>
                                <circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                                <path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/>
                                <circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                            </g>
                            <defs>
                                <linearGradient id="paint0_linear_hero_logo" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#D2FF37"/>
                                    <stop offset="1" stop-color="#EEFF00"/>
                                </linearGradient>
                                <clipPath id="clip0_hero_logo">
                                    <rect width="355" height="355" rx="58" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                </div>

                <h1 class="guide-main-title text-size-8 mb-3">
                    Token Exporter
                </h1>

                <p class="hero-tagline">
                    Transform Figma variables into production-ready code with one click.
                </p>
                <p class="hero-description">
                    Built on Open Props foundation with 435+ tokens. Powered by AI-assisted development.
                </p>

                <div class="hero-footer">
                   <!-- This is inside the .hero-footer div -->
                    <div class="social-links">
                        <!-- FINAL FIX: Adding the base .btn class for proper centering -->
                        <a href="https://github.com/n8mills-UI" class="btn btn-icon-only btn-sm" title="GitHub" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="github"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/millsdesign/" class="btn btn-icon-only btn-sm" title="LinkedIn" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="linkedin"></i>
                        </a>
                        <a href="https://natemills.me" class="btn btn-icon-only btn-sm" title="Portfolio" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="briefcase"></i>
                        </a>
                        <a href="https://www.figma.com/@mills" class="btn btn-icon-only btn-sm" title="Figma" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="figma"></i>
                        </a>
                        <a href="mailto:nate@natemills.me" class="btn btn-icon-only btn-sm" title="Email">
                            <i data-lucide="mail"></i>
                        </a>
                    </div>

                    <div class="figma-cta mb-4">
                        <!-- Note the added "btn-lg" class to make the main button larger -->
                        <a href="https://www.figma.com/community/plugin/1521741753717588633" class="btn primary btn-lg btn-inline" target="_blank" rel="noopener noreferrer">
                            <i data-lucide="figma"></i>
                            Get the Plugin
                        </a>
                    </div>

                    <p>
                        Created with <span class="heart">❤️</span> by Nate Mills
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>



          <!-- Color System Section -->
            <section id="colors" class="content-section">
                <div class="section-header">
                    <h2 class="text-heading-xl main-section-title">
                        <i data-lucide="palette"></i>
                        Color System
                    </h2>
                    <p class="section-description">
                        A purposeful palette. From foundational brand colors to semantic tokens that power a consistent UI.
                    </p>
                </div>

                <div id="brand-colors" class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="star"></i> Brand Colors</h2><p class="category-description">Core brand identity colors that define the visual personality of the Token Exporter plugin.</p></div>
                    <div class="tokens-grid color-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--brand-primary-lime</div><div class="token-value">#D2FF37</div><div class="token-preview"><div class="color-preview bg-brand-primary-lime" data-hex="#D2FF37"></div></div></div><button class="token-copy" onclick="copyToken('--brand-primary-lime')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--brand-secondary-yellow</div><div class="token-value">#EEFF00</div><div class="token-preview"><div class="color-preview bg-brand-secondary-yellow" data-hex="#EEFF00"></div></div></div><button class="token-copy" onclick="copyToken('--brand-secondary-yellow')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--brand-text-dark</div><div class="token-value">#1E1E1E</div><div class="token-preview"><div class="color-preview bg-brand-text-dark" data-hex="#1E1E1E"></div></div></div><button class="token-copy" onclick="copyToken('--brand-text-dark')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--brand-gradient-lime</div><div class="token-value">linear-gradient(180deg, #D2FF37 0%, #EEFF00 100%)</div><div class="token-preview"><div class="gradient-preview bg-brand-gradient-lime"></div></div></div><button class="token-copy" onclick="copyToken('--brand-gradient-lime')">Copy</button></div>
                    </div>
                </div>

                <div id="gray-scale" class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="bar-chart-2"></i> Gray Scale (Primitives)</h2><p class="category-description">The full grayscale palette that underpins the UI's surfaces and text colors.</p></div>
                    <div class="tokens-grid gray-scale-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-0</div><div class="token-value">#ffffff</div><div class="token-preview"><div class="color-preview bg-gray-0" data-hex="#ffffff"></div></div></div><button class="token-copy" onclick="copyToken('--gray-0')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-1</div><div class="token-value">#f0f0f0</div><div class="token-preview"><div class="color-preview bg-gray-1" data-hex="#f0f0f0"></div></div></div><button class="token-copy" onclick="copyToken('--gray-1')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-2</div><div class="token-value">#cccccc</div><div class="token-preview"><div class="color-preview bg-gray-2" data-hex="#cccccc"></div></div></div><button class="token-copy" onclick="copyToken('--gray-2')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-3</div><div class="token-value">#a0a0a0</div><div class="token-preview"><div class="color-preview bg-gray-3" data-hex="#a0a0a0"></div></div></div><button class="token-copy" onclick="copyToken('--gray-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-4</div><div class="token-value">#999999</div><div class="token-preview"><div class="color-preview bg-gray-4" data-hex="#999999"></div></div></div><button class="token-copy" onclick="copyToken('--gray-4')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-5</div><div class="token-value">#666666</div><div class="token-preview"><div class="color-preview bg-gray-5" data-hex="#666666"></div></div></div><button class="token-copy" onclick="copyToken('--gray-5')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-6</div><div class="token-value">#444444</div><div class="token-preview"><div class="color-preview bg-gray-6" data-hex="#444444"></div></div></div><button class="token-copy" onclick="copyToken('--gray-6')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-7</div><div class="token-value">#3a3a3a</div><div class="token-preview"><div class="color-preview bg-gray-7" data-hex="#3a3a3a"></div></div></div><button class="token-copy" onclick="copyToken('--gray-7')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-8</div><div class="token-value">#2a2a2a</div><div class="token-preview"><div class="color-preview bg-gray-8" data-hex="#2a2a2a"></div></div></div><button class="token-copy" onclick="copyToken('--gray-8')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--gray-9</div><div class="token-value">#1e1e1e</div><div class="token-preview"><div class="color-preview bg-gray-9" data-hex="#1e1e1e"></div></div></div><button class="token-copy" onclick="copyToken('--gray-9')">Copy</button></div>
                    </div>
                </div>

                <div id="semantic-colors" class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="pen-tool"></i> Semantic Colors</h2><p class="category-description">Purpose-driven color tokens that map to specific UI contexts for consistency across components.</p></div>
                    <div class="tokens-grid color-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-default</div><div class="token-value">var(--gray-0)</div><div class="token-preview"><div class="text-preview"><div class="text-color-default">Default text color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-default')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-secondary</div><div class="token-value">var(--gray-2)</div><div class="token-preview"><div class="text-preview"><div class="text-color-secondary">Secondary text color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-secondary')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-muted</div><div class="token-value">var(--gray-3)</div><div class="token-preview"><div class="text-preview"><div class="text-color-muted">Muted text color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-muted')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-on-brand</div><div class="token-value">var(--brand-text-dark)</div><div class="token-preview"><div class="text-preview bg-brand-primary-lime"><div class="text-color-on-brand">Text on brand color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-on-brand')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-text-error</div><div class="token-value">var(--red-6)</div><div class="token-preview"><div class="text-preview"><div class="text-color-error">Error text color</div></div></div></div><button class="token-copy" onclick="copyToken('--color-text-error')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-background-primary</div><div class="token-value">var(--gray-9)</div><div class="token-preview"><div class="color-preview bg-color-background-primary" data-hex="#1e1e1e"></div></div></div><button class="token-copy" onclick="copyToken('--color-background-primary')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-background-secondary</div><div class="token-value">var(--gray-8)</div><div class="token-preview"><div class="color-preview bg-color-background-secondary" data-hex="#2a2a2a"></div></div></div><button class="token-copy" onclick="copyToken('--color-background-secondary')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-background-tertiary</div><div class="token-value">var(--gray-7)</div><div class="token-preview"><div class="color-preview bg-color-background-tertiary" data-hex="#3a3a3a"></div></div></div><button class="token-copy" onclick="copyToken('--color-background-tertiary')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-background-disabled</div><div class="token-value">#333333</div><div class="token-preview"><div class="color-preview bg-color-background-disabled" data-hex="#333333"></div></div></div><button class="token-copy" onclick="copyToken('--color-background-disabled')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-border-default</div><div class="token-value">var(--gray-6)</div><div class="token-preview"><div class="color-preview bg-color-border-default" data-hex="#444444"></div></div></div><button class="token-copy" onclick="copyToken('--color-border-default')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--color-border-interactive-focus</div><div class="token-value">var(--brand-primary-lime)</div><div class="token-preview"><div class="color-preview bg-color-border-interactive-focus" data-hex="#D2FF37"></div></div></div><button class="token-copy" onclick="copyToken('--color-border-interactive-focus')">Copy</button></div>
                    </div>
                </div>

                <div id="category-colors" class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="tag"></i> Token Category Colors</h2><p class="category-description">Distinctive colors assigned to each token type for visual categorization.</p></div>
                    <div class="tokens-grid color-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--category-color-cyan</div><div class="token-value">#00D1FF</div><div class="token-preview"><div class="color-preview bg-category-cyan" data-hex="#00D1FF"></div></div></div><button class="token-copy" onclick="copyToken('--category-color-cyan')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--category-color-purple</div><div class="token-value">#B48CFF</div><div class="token-preview"><div class="color-preview bg-category-purple" data-hex="#B48CFF"></div></div></div><button class="token-copy" onclick="copyToken('--category-color-purple')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--category-color-orange</div><div class="token-value">#FFB86C</div><div class="token-preview"><div class="color-preview bg-category-orange" data-hex="#FFB86C"></div></div></div><button class="token-copy" onclick="copyToken('--category-color-orange')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--category-color-pink</div><div class="token-value">#FF74BC</div><div class="token-preview"><div class="color-preview bg-category-pink" data-hex="#FF74BC"></div></div></div><button class="token-copy" onclick="copyToken('--category-color-pink')">Copy</button></div>
                    </div>
                </div>
            </section>


            <!-- Typography Section -->
            <section id="typography" class="content-section">
    <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="type"></i> Typography System</h2><p class="section-description">Clarity and hierarchy in every word. A flexible and accessible type system designed for readability.</p></div>
    <div class="token-category">
        <div class="category-header">
            <h2 class="text-heading-lg category-title">
                <i data-lucide="align-left"></i> Typography Scale
            </h2>
            <p class="category-description">
                Complete typography scale using Open Props font sizing. All sizes are defined in our CSS.
            </p>
        </div>
        <div class="tokens-grid text-grid">
            <div class="example-container">
                <div class="flex flex-col gap-3">
                    <div>
                        <div class="text-heading-xl">Heading XL</div>
                        <code class="text-color-muted text-size-0">.text-heading-xl • var(--font-size-8)</code>
                    </div>
                    <div>
                        <div class="text-heading-lg">Heading LG</div>
                        <code class="text-color-muted text-size-0">.text-heading-lg • var(--font-size-6)</code>
                    </div>
                    <div>
                        <div class="text-heading-md">Heading MD</div>
                        <code class="text-color-muted text-size-0">.text-heading-md • var(--font-size-4)</code>
                    </div>
                    <div>
                        <div class="text-body-lg">Body Large</div>
                        <code class="text-color-muted text-size-0">.text-body-lg • var(--font-size-2)</code>
                    </div>
                    <div>
                        <div class="text-body-md">Body Medium</div>
                        <code class="text-color-muted text-size-0">.text-body-md • var(--font-size-1)</code>
                    </div>
                    <div>
                        <div class="text-label">LABEL TEXT</div>
                        <code class="text-color-muted text-size-0">.text-label • var(--font-size-0)</code>
                    </div>
                    <div>
                        <div class="text-caption">Caption Text</div>
                        <code class="text-color-muted text-size-0">.text-caption • var(--font-size-00)</code>
                    </div>
                </div>
            </div>
        </div>
        <div class="tokens-grid font-grid mt-0">
            <div class="token-item"><div class="token-info"><div class="token-name">--font-sans</div><div class="token-value">'Inter', -apple-system, ...</div><div class="text-preview font-sans">The quick brown fox jumps over the lazy dog.</div></div><button class="token-copy" onclick="copyToken('--font-sans')">Copy</button></div>
            <div class="token-item"><div class="token-info"><div class="token-name">--font-mono</div><div class="token-value">'Monaco', 'Menlo', monospace</div><div class="text-preview font-mono">const greeting = "Hello, World!";</div></div><button class="token-copy" onclick="copyToken('--font-mono')">Copy</button></div>
        </div>
    </div>
</section>

            <!-- Spacing Section -->
            <section id="spacing" class="content-section">
                <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="move-horizontal"></i> Spacing System</h2><p class="section-description">Consistent spacing scale for layouts and component padding.</p></div>
                <div class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="ruler"></i> Spacing Scale</h2><p class="category-description">Open Props spacing scale used for consistent layouts throughout the interface.</p></div>
                    <div class="tokens-grid spacing-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-1</div><div class="token-value">0.25rem • 4px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-1 h-1"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-1')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-2</div><div class="token-value">0.5rem • 8px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-2 h-2"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-2')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-3</div><div class="token-value">0.75rem • 12px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-3 h-3"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-4</div><div class="token-value">1rem • 16px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-4 h-4"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-4')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-6</div><div class="token-value">1.5rem • 24px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-6 h-6"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-6')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--size-8</div><div class="token-value">2rem • 32px</div><div class="token-preview"><div class="spacing-preview"><div class="spacing-bar w-8 h-8"></div></div></div></div><button class="token-copy" onclick="copyToken('--size-8')">Copy</button></div>
                    </div>
                </div>
            </section>

            <!-- Shadows Section -->
            <section id="shadows" class="content-section">
                <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="layers"></i> Shadow System</h2><p class="section-description">Elevation and depth through carefully crafted shadows.</p></div>
                <div class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="copy"></i> Shadow Tokens</h2><p class="category-description">Open Props shadow tokens for creating depth and elevation.</p></div>
                    <div class="tokens-grid shadow-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--shadow-2</div><div class="token-value">Subtle elevation</div><div class="token-preview"><div class="shadow-preview shadow-2"></div></div></div><button class="token-copy" onclick="copyToken('--shadow-2')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--shadow-3</div><div class="token-value">Medium elevation</div><div class="token-preview"><div class="shadow-preview shadow-3"></div></div></div><button class="token-copy" onclick="copyToken('--shadow-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--shadow-4</div><div class="token-value">High elevation</div><div class="token-preview"><div class="shadow-preview shadow-4"></div></div></div><button class="token-copy" onclick="copyToken('--shadow-4')">Copy</button></div>
                    </div>
                </div>
            </section>

            <!-- Border Radius Section -->
            <section id="border-radius" class="content-section">
                <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="square"></i> Border Radius</h2><p class="section-description">Consistent corner rounding for a cohesive visual language.</p></div>
                <div class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="circle"></i> Radius Tokens</h2><p class="category-description">Open Props radius tokens for consistent corner rounding.</p></div>
                    <div class="tokens-grid radius-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--radius-1</div><div class="token-value">Small radius</div><div class="token-preview"><div class="radius-preview rounded-1"></div></div></div><button class="token-copy" onclick="copyToken('--radius-1')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--radius-2</div><div class="token-value">Medium radius</div><div class="token-preview"><div class="radius-preview rounded-2"></div></div></div><button class="token-copy" onclick="copyToken('--radius-2')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--radius-3</div><div class="token-value">Large radius</div><div class="token-preview"><div class="radius-preview rounded-3"></div></div></div><button class="token-copy" onclick="copyToken('--radius-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--radius-round</div><div class="token-value">Full round</div><div class="token-preview"><div class="radius-preview rounded-full"></div></div></div><button class="token-copy" onclick="copyToken('--radius-round')">Copy</button></div>
                    </div>
                </div>
            </section>


            <!-- Animations Section -->
            <section id="animations" class="content-section">
                <div class="section-header"><h2 class="text-heading-xl main-section-title"><i data-lucide="play-circle"></i> Animation System</h2><p class="section-description">Motion design tokens for smooth, consistent animations.</p></div>
                <div class="token-category">
                    <div class="category-header"><h2 class="text-heading-lg category-title"><i data-lucide="film"></i> Animation Tokens</h2><p class="category-description">Open Props animation and easing tokens for smooth motion design.</p></div>
                    <div class="tokens-grid animation-grid">
                        <div class="token-item"><div class="token-info"><div class="token-name">--ease-3</div><div class="token-value">cubic-bezier(.25, 0, .3, 1)</div><div class="text-preview"><div style="color: var(--color-text-muted);">Standard easing curve</div></div></div><button class="token-copy" onclick="copyToken('--ease-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--ease-spring-3</div><div class="token-value">cubic-bezier(.5, -1, .1, 1.8)</div><div class="text-preview"><div style="color: var(--color-text-muted);">Playful spring easing</div></div></div><button class="token-copy" onclick="copyToken('--ease-spring-3')">Copy</button></div>
                        <div class="token-item"><div class="token-info"><div class="token-name">--animation-duration-2</div><div class="token-value">150ms</div><div class="text-preview"><div style="color: var(--color-text-muted);">Standard duration</div></div></div><button class="token-copy" onclick="copyToken('--animation-duration-2')">Copy</button></div>
                    </div>
                </div>
            </section>

            <!-- COMPONENT LIBRARY SECTION -->
<section id="components" class="content-section">
    <div class="section-header">
        <h2 class="text-heading-xl main-section-title"><i data-lucide="component"></i> Component Library</h2>
        <p class="section-description">The building blocks of the interface. A collection of reusable components built with design tokens.</p>
    </div>

    <!-- REFACTORED: Token Card Section -->
    <div id="token-card" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title"><i data-lucide="pie-chart"></i> Token Card</h2>
            <p class="component-description">The central dashboard component that displays the total count of design tokens. It transforms to show different states like loading, success, or an empty state if no tokens are found.</p>
        </div>
        <div class="component-body">
            <h3 class="example-subheader">Component States & Examples</h3>
            <p class="category-description" style="margin-bottom: var(--size-4);">This component adapts to various contexts. Below are its primary states, from default view to the interactive progress flow.</p>
            
            <div class="variants-grid">
                <!-- Card 1: Default State -->
                <div class="example-wrapper">
                    <div class="example-label">Default State</div>
                    <div class="example-container">
                        <div class="card token-summary">
                            <div class="text-heading-xl token-count-total">247</div>
                            <div class="text-label token-label">Design Tokens Ready to Export</div>
                            <div class="token-breakdown">
                                <div class="token-type-stat color active"><i class="icon" data-lucide="palette"></i><div class="count">89</div><div class="text-label label">colors</div></div>
                                <div class="token-type-stat text active"><i class="icon" data-lucide="type"></i><div class="count">42</div><div class="text-label label">text</div></div>
                                <div class="token-type-stat number active"><i class="icon" data-lucide="hash"></i><div class="count">98</div><div class="text-label label">numbers</div></div>
                                <div class="token-type-stat states"><i class="icon" data-lucide="toggle-right"></i><div class="count">18</div><div class="text-label label">states</div></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 2: Advanced Mode -->
                <div class="example-wrapper">
                    <div class="example-label">Advanced Mode</div>
                    <div class="example-container">
                        <div class="card token-summary advanced-mode">
                            <div class="text-heading-xl token-count-total">131</div>
                            <div class="text-label token-label">Design Tokens Selected</div>
                            <div class="token-breakdown">
                                <div class="token-type-stat color active"><i class="icon" data-lucide="palette"></i><div class="count">89</div><div class="text-label label">colors</div></div>
                                <div class="token-type-stat text active"><i class="icon" data-lucide="type"></i><div class="count">42</div><div class="text-label label">text</div></div>
                                <div class="token-type-stat number"><i class="icon" data-lucide="hash"></i><div class="count">98</div><div class="text-label label">numbers</div></div>
                                <div class="token-type-stat states disabled"><i class="icon" data-lucide="toggle-right"></i><div class="count">0</div><div class="text-label label">states</div></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 3: Loading Skeleton -->
                <div class="example-wrapper">
                    <div class="example-label">Loading State</div>
                    <div class="example-container">
                        <div class="card token-summary-skeleton">
                            <div class="skeleton-heading"></div>
                            <div class="skeleton-subheading"></div>
                            <div class="skeleton-breakdown">
                                <div class="skeleton-stat"><div class="skeleton-icon"></div><div class="skeleton-text"></div></div>
                                <div class="skeleton-stat"><div class="skeleton-icon"></div><div class="skeleton-text"></div></div>
                                <div class="skeleton-stat"><div class="skeleton-icon"></div><div class="skeleton-text"></div></div>
                                <div class="skeleton-stat"><div class="skeleton-icon"></div><div class="skeleton-text"></div></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 4: Progress Flow -->
                <div class="example-wrapper">
                    <div class="example-label" style="display: flex; justify-content: space-between; align-items: center;">
                        <span>Progress & Success Flow</span>
                        <button class="btn secondary btn-sm btn-inline" onclick="demoGuideExport()">
                            <i data-lucide="play"></i>
                            <span>Play Demo</span>
                        </button>
                    </div>
                    <div class="example-container">
                        <div class="te-progress-loader" id="guideProgressLoader">
                            <div class="te-icon-grid" id="guideIconGrid"></div>
                            <div class="te-celebration" id="guideCelebration"></div>
                            <div class="te-glass-status" id="guideGlassStatus">
                                <p class="te-progress-percent" id="guideProgressPercent">0%</p>
                                <div class="te-progress-track">
                                    <div class="te-progress-fill" id="guideProgressFill"></div>
                                </div>
                                <p class="te-status-label" id="guideStatusLabel">Ready to export</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 5: Empty State -->
                <div class="example-wrapper">
                    <div class="example-label">Empty State</div>
                    <div class="example-container">
                        <div class="empty-state">
                             <div class="empty-state-icon">
                                <div class="token-exporter-logo large">
                                     <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_empty_logo_refactor)"><path d="M0 0H355V355H0V0Z" fill="url(#paint0_linear_empty_logo_refactor)"/><circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/><path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/><circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/></g><defs><linearGradient id="paint0_linear_empty_logo_refactor" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse"><stop stop-color="#D2FF37"/><stop offset="1" stop-color="#EEFF00"/></linearGradient><clipPath id="clip0_empty_logo_refactor"><rect width="355" height="355" rx="58" fill="white"/></clipPath></defs></svg>
                                </div>
                            </div>
                            <div>
                                <div class="text-heading-lg empty-state-title">Let's build something!</div>
                                <div class="text-body-md empty-state-subtitle">Start by creating Figma variables.</div>
                            </div>
                            <a href="https://help.figma.com/hc/en-us/articles/15339657135383-Guide-to-variables-in-Figma" class="btn primary btn-inline" target="_blank" rel="noopener noreferrer">
                                Learn How <i data-lucide="arrow-up-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="buttons" class="component-section">
        <div class="component-header">
            <h2 class="text-heading-lg component-title"><i data-lucide="mouse-pointer-2"></i> Buttons</h2>
            <p class="component-description">A unified system for all actions. Buttons default to full-width for consistency within containers, with an inline variant for content-hugging behavior.</p>
        </div>
        <div class="component-body">
            <!-- Group 1: Standard Variants -->
            <h3 class="example-subheader">Standard Variants</h3>
            <div class="variants-grid" style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));">
                <div class="example-wrapper">
                    <div class="example-label">Primary</div>
                    <div class="example-container">
                        <button class="btn primary"><i data-lucide="rocket"></i> Primary Action</button>
                    </div>
                </div>
                <div class="example-wrapper">
                    <div class="example-label">Secondary</div>
                    <div class="example-container">
                        <button class="btn secondary"><i data-lucide="arrow-left"></i> Secondary Action</button>
                    </div>
                </div>
                <div class="example-wrapper">
                    <div class="example-label">Tertiary (Text)</div>
                    <div class="example-container">
                        <button class="btn tertiary">Tertiary Action <i data-lucide="arrow-right"></i></button>
                    </div>
                </div>
            </div>

            <!-- Group 2: Inline & Icon Buttons -->
            <h3 class="example-subheader">Inline & Icon Buttons</h3>
            <div class="variants-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                <div class="example-wrapper">
                    <div class="example-label">Inline Button</div>
                    <div class="example-container">
                        <button class="btn secondary btn-inline"><i data-lucide="arrow-left"></i> Back</button>
                    </div>
                </div>
                <div class="example-wrapper">
                    <div class="example-label">Icon-Only Button</div>
                    <div class="example-container">
                        <button class="btn-icon-only"><i data-lucide="download"></i></button>
                    </div>
                </div>
                <div class="example-wrapper">
                    <div class="example-label">Social Icons</div>
                    <div class="example-container" style="display: flex; gap: var(--size-2); justify-content: center;">
                        <button class="btn-icon-only" title="GitHub"><i data-lucide="github"></i></button>
                        <button class="btn-icon-only" title="LinkedIn"><i data-lucide="linkedin"></i></button>
                        <button class="btn-icon-only" title="Mail"><i data-lucide="mail"></i></button>
                    </div>
                </div>
            </div>

            <!-- Group 3: States -->
            <h3 class="example-subheader">Interactive States</h3>
            <div class="variants-grid">
                <div class="example-wrapper">
                    <div class="example-label">Hover State</div>
                    <div class="example-container">
                        <button class="btn primary" id="hover-example">Hover over me</button>
                    </div>
                </div>
                <div class="example-wrapper">
                    <div class="example-label">Focus State</div>
                    <div class="example-container">
                        <button class="btn secondary">Click to Focus</button>
                    </div>
                </div>
                <div class="example-wrapper">
                    <div class="example-label">Disabled State</div>
                    <div class="example-container">
                        <button class="btn primary" disabled>Disabled Action</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="forms" class="component-section">
        <div class="component-header"><h2 class="text-heading-lg component-title"><i data-lucide="file-text"></i> Forms</h2><p class="component-description">Form elements including the format selector dropdown with custom styling.</p></div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Live Example</div>
                <div class="example-container">
                    <div class="card export-section"><h3 class="text-label section-title"><i data-lucide="send"></i> Quick Export</h3><p class="text-body-md subtitle">Export all your tokens in your preferred format</p><div class="format-select-wrapper"><select class="format-select"><option value="all">All Formats</option><option value="css" selected>CSS Variables</option><option value="swift">Swift (iOS)</option></select></div><button class="btn primary"><i data-lucide="rocket"></i> Package 247 Tokens</button></div>
                </div>
            </div>
        </div>
    </div>

    <div id="collection-items" class="component-section">
        <div class="component-header"><h2 class="text-heading-lg component-title"><i data-lucide="list"></i> Collection Items</h2><p class="component-description">Individual collection list items with custom checkboxes, info, and token type pills.</p></div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Live Example</div>
                <div class="example-container">
                    <div class="collection-list" style="max-height: none;"><div class="collection-item selected"><div class="collection-checkbox"></div><div class="collection-info"><div class="text-body-lg collection-name">Brand Colors</div><div class="collection-pills"><div class="collection-pill color"><i class="icon" data-lucide="palette"></i> <span>24</span></div><div class="collection-pill text"><i class="icon" data-lucide="type"></i> <span>8</span></div></div></div><div class="text-caption collection-count">32 tokens</div></div><div class="collection-item"><div class="collection-checkbox"></div><div class="collection-info"><div class="text-body-lg collection-name">Typography Scale</div><div class="collection-pills"><div class="collection-pill text"><i class="icon" data-lucide="type"></i> <span>16</span></div><div class="collection-pill number"><i class="icon" data-lucide="hash"></i> <span>12</span></div></div></div><div class="text-caption collection-count">28 tokens</div></div></div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="modals" class="component-section">
        <div class="component-header"><h2 class="text-heading-lg component-title"><i data-lucide="app-window"></i> Modals</h2><p class="component-description">The modal component used for the "About" section in the plugin, featuring a blurred backdrop.</p></div>
        <div class="component-body">
            <div class="example-wrapper">
                <div class="example-label">Live Example</div>
                <div class="example-container" style="height: 450px; display: flex; align-items: center; justify-content: center;">
                     <div class="about-modal show" style="position: absolute; z-index: var(--layer-base);">
                        <div class="about-content">
                            <button class="about-close"> <i data-lucide="x-circle"></i> </button>
                            <div class="about-avatar"></div>
                            <h2 class="text-heading-md">NATE MILLS</h2>
                            <p class="text-body-md">Building accessible design systems that scale.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Guide Footer Section -->
<footer id="about" class="guide-footer">
    <div class="footer-content">
        <div class="footer-brand">
            <div class="footer-logo">
                <svg viewBox="0 0 355 355" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip_footer_logo)">
                        <path d="M0 0H355V355H0V0Z" fill="url(#paint_footer_linear)"/>
                        <circle cx="133.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                        <path d="M178 88.4824C210.612 104.817 233 138.543 233 177.5C233 216.456 210.611 250.182 178 266.517C145.389 250.182 123 216.456 123 177.5C123 138.543 145.388 104.817 178 88.4824Z" fill="black"/>
                        <circle cx="222.5" cy="177.5" r="99.5" fill="black" fill-opacity="0.42"/>
                    </g>
                    <defs>
                        <linearGradient id="paint_footer_linear" x1="177.5" y1="0" x2="177.5" y2="355" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#D2FF37"/>
                            <stop offset="1" stop-color="#EEFF00"/>
                        </linearGradient>
                        <clipPath id="clip_footer_logo">
                            <rect width="355" height="355" rx="58" fill="white"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>
            <h3 class="footer-title">Token Exporter</h3>
            <p class="footer-tagline">Created with <span class="heart">❤️</span> by Nate Mills</p>
        </div>
        
   <!-- This is inside the .footer-actions div -->
        <a href="https://www.figma.com/community/plugin/1521741753717588633" target="_blank" class="btn primary btn-lg btn-inline">
            <i data-lucide="figma"></i>
            <span>Get the Plugin</span>
        </a>

        <div class="footer-social-links">
            <!-- FINAL FIX: Adding the base .btn class for proper centering -->
            <a href="https://github.com/n8mills-UI" class="btn btn-icon-only btn-sm" title="GitHub" target="_blank" rel="noopener noreferrer">
                <i data-lucide="github"></i>
            </a>
            <a href="https://www.linkedin.com/in/millsdesign/" class="btn btn-icon-only btn-sm" title="LinkedIn" target="_blank" rel="noopener noreferrer">
                <i data-lucide="linkedin"></i>
            </a>
            <a href="https://www.figma.com/@mills" class="btn btn-icon-only btn-sm" title="Figma" target="_blank" rel="noopener noreferrer">
                <i data-lucide="figma"></i>
            </a>
            <a href="https://natemills.me" class="btn btn-icon-only btn-sm" title="Portfolio" target="_blank" rel="noopener noreferrer">
                <i data-lucide="briefcase"></i>
            </a>
            <a href="mailto:nate@natemills.me" class="btn btn-icon-only btn-sm" title="Email">
                <i data-lucide="mail"></i>
            </a>
        </div>
    </div>
</footer>

<script>
    // --- INITIALIZATION ---
    document.addEventListener('DOMContentLoaded', () => {
        // Functions that DON'T depend on external scripts can run here
        initializeNavigation();
        initializeMobileMenu();
        initializeScrollHeader();
        animateCounters();
        initFAQAccordion();
        initTechHover();
    });
    
    // --- Initialize Lucide Icons & Dependent Animations ---
    window.addEventListener('load', () => {
      // FIX: Run the loader setup here to ensure Lucide is ready
      initializeGuideLoader(); 
      
      // This will now correctly render ALL icons, including dynamic ones
      lucide.createIcons();
    });

    // --- ORIGINAL FUNCTIONS FROM YOUR FILE ---
    function animateCounters() {
        const counters = document.querySelectorAll('.counter');
        if (!counters.length) return;
        counters.forEach(counter => {
            const target = parseInt(counter.dataset.target);
            const duration = 2000;
            const increment = target / (duration / 16);
            let current = 0;
            const updateCounter = () => {
                current += increment;
                if (current < target) {
                    counter.textContent = Math.ceil(current);
                    requestAnimationFrame(updateCounter);
                } else {
                    counter.textContent = target;
                }
            };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        updateCounter();
                        observer.unobserve(entry.target);
                    }
                });
            });
            observer.observe(counter);
        });
    }

    function initFAQAccordion() {
        const faqItems = document.querySelectorAll('.faq-item');
        if (!faqItems.length) return;
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            if (!question) return;
            question.addEventListener('click', () => {
                item.classList.toggle('open');
            });
        });
    }

    function initTechHover() {
        const techItems = document.querySelectorAll('.tech-item[data-tech]');
        const defaultContent = document.getElementById('tech-info-default');
        if (!techItems.length || !defaultContent) return;
        const showTechInfo = (tech) => {
            document.querySelectorAll('.tech-info-content').forEach(content => {
                content.style.display = 'none';
                content.classList.remove('active');
            });
            const targetContent = document.getElementById(`tech-info-${tech}`);
            if (targetContent) {
                targetContent.style.display = 'block';
                setTimeout(() => targetContent.classList.add('active'), 10);
            }
            techItems.forEach(ti => ti.classList.remove('active'));
            const activeItem = document.querySelector(`.tech-item[data-tech="${tech}"]`);
            if (activeItem) activeItem.classList.add('active');
        };
        const showDefaultInfo = () => {
             document.querySelectorAll('.tech-info-content').forEach(content => {
                content.style.display = 'none';
                content.classList.remove('active');
            });
            if (defaultContent) {
                defaultContent.style.display = 'block';
                setTimeout(() => defaultContent.classList.add('active'), 10);
            }
            techItems.forEach(item => item.classList.remove('active'));
        };
        showDefaultInfo();
        techItems.forEach(item => {
            const tech = item.getAttribute('data-tech');
            item.addEventListener('mouseenter', () => showTechInfo(tech));
            item.addEventListener('click', () => showTechInfo(tech));
        });
        const techGrid = document.querySelector('.tech-stack-grid');
        if (techGrid) {
            techGrid.addEventListener('mouseleave', showDefaultInfo);
        }
    }

// Animation control for export flow demo
let animationInterval;
let currentProgress = 0;

// New unified progress loader
function initializeGuideLoader() {
    const grid = document.getElementById('guideIconGrid');
    if (!grid) return;
    
    const tokenTypes = [
        { icon: 'palette', color: '--category-color-cyan' },
        { icon: 'type', color: '--category-color-purple' },
        { icon: 'hash', color: '--category-color-orange' },
        { icon: 'toggle-right', color: '--category-color-pink' }
    ];
    
    // Create icon grid
    for (let i = 0; i < 60; i++) {
        const cell = document.createElement('div');
        cell.classList.add('te-icon-cell');
        
        const category = tokenTypes[i % tokenTypes.length];
        const icon = document.createElement('i');
        icon.setAttribute('data-lucide', category.icon);
        cell.appendChild(icon);
        cell.style.setProperty('--color', `var(${category.color})`);
        
        // Animation properties
        const isFocused = Math.random() > 0.3;
        const angle = Math.random() * Math.PI * 2;
        const radius = 150 + Math.random() * 50;
        
        cell.style.setProperty('--x-start', `${Math.cos(angle) * radius}px`);
        cell.style.setProperty('--y-start', `${Math.sin(angle) * radius}px`);
        cell.style.setProperty('--x-end', `${Math.cos(angle + Math.PI) * radius}px`);
        cell.style.setProperty('--y-end', `${Math.sin(angle + Math.PI) * radius}px`);
        cell.style.setProperty('--delay', `${Math.random() * 1.5}s`);
        cell.style.setProperty('--scale', 0.7 + Math.random() * 0.6);
        cell.style.setProperty('--blur', isFocused ? '0px' : `${Math.random() * 3}px`);
        
        grid.appendChild(cell);
    }
    
    lucide.createIcons();
}

let guideExportInterval = null;
let guideIsExporting = false;

function demoGuideExport() {
    if (guideIsExporting) return;
    
    guideIsExporting = true;
    let progress = 0;
    let targetProgress = 0;
    
    const progressStages = [
        { percent: 25, label: "Warming up" },
        { percent: 50, label: "Finding" },
        { percent: 75, label: "Building" },
        { percent: 95, label: "Checking" }
    ];
    
    const percentEl = document.getElementById('guideProgressPercent');
    const fillEl = document.getElementById('guideProgressFill');
    const labelEl = document.getElementById('guideStatusLabel');
    
    guideExportInterval = setInterval(() => {
        const speed = Math.random() > 0.7 ? 0.5 : 2;
        targetProgress = Math.min(targetProgress + speed, 100);
        
        const smoothingFactor = 0.1;
        progress += (targetProgress - progress) * smoothingFactor;
        
        if (progress >= 99.5) {
            progress = 100;
            clearInterval(guideExportInterval);
            guideSuccessAnimation();
            return;
        }
        
        const displayProgress = Math.floor(progress);
        percentEl.textContent = `${displayProgress}%`;
        fillEl.style.width = `${progress}%`;
        
        const currentStage = progressStages.find(s => displayProgress <= s.percent) || progressStages[progressStages.length - 1];
        labelEl.textContent = currentStage.label;
    }, 50);
}

function guideSuccessAnimation() {
    const container = document.getElementById('guideProgressLoader');
    const celebrationContainer = document.getElementById('guideCelebration');
    const grid = document.getElementById('guideIconGrid');
    
    container.classList.add('te-celebrating');
    grid.classList.add('fade-out');
    
    // Success icon
    const successIcon = document.createElement('div');
    successIcon.className = 'te-success-icon';
    successIcon.innerHTML = '<i data-lucide="check-circle"></i>';
    celebrationContainer.appendChild(successIcon);
    
    // Confetti
    const tokenTypes = [
        { color: '--category-color-cyan' },
        { color: '--category-color-purple' },
        { color: '--category-color-orange' },
        { color: '--category-color-pink' }
    ];
    
    for (let i = 0; i < 40; i++) {
        setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.className = 'te-confetti-burst';
            const angle = (i / 40) * Math.PI * 2;
            const distance = 200 + Math.random() * 100;
            confetti.style.setProperty('--burst-x', `${Math.cos(angle) * distance}px`);
            confetti.style.setProperty('--burst-y', `${Math.sin(angle) * distance}px`);
            confetti.style.setProperty('--color', `var(${tokenTypes[i % tokenTypes.length].color})`);
            celebrationContainer.appendChild(confetti);
        }, i * 10);
    }
    
    lucide.createIcons();
    
    // Reset after delay
    setTimeout(() => {
        container.classList.remove('te-celebrating');
        grid.classList.remove('fade-out');
        celebrationContainer.innerHTML = '';
        document.getElementById('guideGlassStatus').style.opacity = '1';
        document.getElementById('guideGlassStatus').style.transform = 'scale(1)';
        document.getElementById('guideProgressPercent').textContent = '0%';
        document.getElementById('guideProgressFill').style.width = '0%';
        document.getElementById('guideStatusLabel').textContent = 'Ready to export';
        guideIsExporting = false;
    }, 3000);
}


    function initializeNavigation() {
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
        const sections = document.querySelectorAll('.content-section, .token-category, .component-section,');
        const observer = new IntersectionObserver(entries => {
            let visibleSections = [];
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    visibleSections.push(entry.target);
                }
            });
            if (visibleSections.length > 0) {
                visibleSections.sort((a, b) => a.getBoundingClientRect().top - b.getBoundingClientRect().top);
                const activeId = visibleSections[0].getAttribute('id');
                navLinks.forEach(link => {
                    const linkHref = link.getAttribute('href');
                    if (linkHref === '#colors') {
                        const isColorSectionVisible = activeId === 'colors' || activeId === 'brand-colors' || activeId === 'gray-scale' || activeId === 'semantic-colors' || activeId === 'category-colors';
                        link.classList.toggle('active', isColorSectionVisible);
                    } else {
                        link.classList.toggle('active', linkHref === `#${activeId}`);
                    }
                });
            }
        }, { rootMargin: "-40% 0px -60% 0px" });
        sections.forEach(section => {
            observer.observe(section);
        });
    }

    function copyToken(tokenName) {
        navigator.clipboard.writeText(tokenName).then(() => {
            const buttons = document.querySelectorAll('.token-copy');
            buttons.forEach(button => {
                if (button.getAttribute('onclick') === `copyToken('${tokenName}')`) {
                    const originalText = button.innerHTML;
                    button.innerHTML = '<i data-lucide="check" style="width: 1em; height: 1em;"></i> Copied!';
                    button.style.color = 'var(--brand-primary-lime)';
                    lucide.createIcons();
                    setTimeout(() => {
                        button.innerHTML = originalText;
                        button.style.color = '';
                    }, 2000);
                }
            });
        }).catch(err => {
            console.error('Failed to copy token: ', err);
        });
    }
    
    function copyCode(button) {
        const codeBlock = button.nextElementSibling;
        if (!codeBlock || codeBlock.tagName.toLowerCase() !== 'code') {
            console.error('Could not find code element to copy.');
            return;
        }
        const code = codeBlock.textContent.trim();
        navigator.clipboard.writeText(code).then(() => {
            const originalText = button.innerHTML;
            button.innerHTML = '<i data-lucide="check" style="width: 1em; height: 1em;"></i> Copied!';
            button.style.color = 'var(--brand-primary-lime)';
            lucide.createIcons();
            setTimeout(() => {
                button.innerHTML = originalText;
                button.style.color = '';
            }, 2000);
        }).catch(err => {
            console.error('Failed to copy code: ', err);
        });
    }

    // --- NEW & UPDATED FUNCTIONS FOR MOBILE HEADER ---
    function initializeMobileMenu() {
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle-right');
        const menuCloseBtn = document.getElementById('menu-close-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuOverlay = document.getElementById('menu-overlay');
        const sidebar = document.getElementById('sidebar');
        const mobileNavLinksContainer = document.getElementById('mobile-nav-links');

        const populateMobileMenu = () => {
            const sidebarLinks = sidebar.querySelectorAll('.nav-links li');
            mobileNavLinksContainer.innerHTML = '';
            sidebarLinks.forEach(link => {
                mobileNavLinksContainer.appendChild(link.cloneNode(true));
            });
        };

        const openMenu = () => {
            mobileMenu.classList.add('open');
            menuOverlay.classList.add('open');
        };

        const closeMenu = () => {
            mobileMenu.classList.remove('open');
            menuOverlay.classList.remove('open');
        };
        
        populateMobileMenu();
        mobileMenuToggle.addEventListener('click', openMenu);
        menuCloseBtn.addEventListener('click', closeMenu);
        menuOverlay.addEventListener('click', closeMenu);
        
        mobileNavLinksContainer.addEventListener('click', (e) => {
            if (e.target.closest('a')) {
                closeMenu();
            }
        });
    }

    function initializeScrollHeader() {
        const header = document.getElementById('mobile-header');
        if (!header) return;

        let lastScrollY = window.scrollY;
        const headerHeight = parseFloat(getComputedStyle(header).height);

        window.addEventListener('scroll', () => {
            if (document.getElementById('mobile-menu').classList.contains('open')) return;
            
            if (lastScrollY < window.scrollY && window.scrollY > headerHeight) {
                header.classList.add('hidden');
            } else {
                header.classList.remove('hidden');
            }
            lastScrollY = window.scrollY;
        });
    }
</script>

<a href="YOUR_GITHUB_REPO_URL" target="_blank" rel="noopener noreferrer" class="version-badge" title="View on GitHub">
    v<span id="version"></span>
</a><script>
    document.addEventListener('DOMContentLoaded', () => {
        const version = getComputedStyle(document.documentElement).getPropertyValue('--system-version').replace(/['"]/g,'').trim();
        if (version) {
            document.getElementById('version').textContent = version;
        }
    });
</script>

</body>
</html>